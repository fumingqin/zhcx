(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment"],{

/***/ 412:
/*!*******************************************************************************************************************************!*\
  !*** D:/UAD/zhcx/main.js?{"page":"pages_CTKY%2Fpages%2FCTKY%2FSpecialBus%2FspecialBusOrderPayment%2FspecialBusOrderPayment"} ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);
var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _specialBusOrderPayment = _interopRequireDefault(__webpack_require__(/*! ./pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue */ 413));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_specialBusOrderPayment.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 413:
/*!******************************************************************************************************!*\
  !*** D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./specialBusOrderPayment.vue?vue&type=template&id=acf031a4& */ 414);
/* harmony import */ var _specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./specialBusOrderPayment.vue?vue&type=script&lang=js& */ 416);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss& */ 418);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 13);

var renderjs





/* normalize component */

var component = Object(_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["render"],
  _specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 414:
/*!*************************************************************************************************************************************!*\
  !*** D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=template&id=acf031a4& ***!
  \*************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=template&id=acf031a4& */ 415);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_template_id_acf031a4___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 415:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=template&id=acf031a4& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 = _vm.turnDate(_vm.ticketInfo.date)
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 416:
/*!*******************************************************************************************************************************!*\
  !*** D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=script&lang=js& */ 417);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Software_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 417:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;


































































































var _Ctky = _interopRequireDefault(__webpack_require__(/*! @/common/Ctky.js */ 14));
var _utilsFilter = _interopRequireDefault(__webpack_require__(/*! @/pages_CTKY/components/CTKY/shoyu-date/utils.filter.js */ 10));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var _default = { data: function data() {return { countDownDate: 120, //倒计时时间
      utils: _utilsFilter.default, userInfo: [], //用户信息
      hiddenValues: '0', //隐藏状态值
      channel: [{ name: '微信' }, { name: '支付宝' }], insurance: '', //保险
      isInsurance: '', //是否有保险
      channeIndex: 0, //选择支付方式
      orderInfo: [], //订单数据
      passengerInfo: [], //乘车人信息
      idNameTypeStr: '', //乘车人信息字符串（发送请求需要）（小叶接口）
      ticketNum: 0, //总票数
      adultNum: 0, //成人数量
      freeTicketNum: 0, //免童
      childrenNum: 0, //儿童数量	
      adultTotalPrice: '', //成人总价
      childrenTotalPrice: '', //儿童总价
      totalPrice: 0, //总价格
      paymentData: [], //保存支付参数
      timer: '', //定时器数据
      isPayEnable: false, //当前是否可以点击支付
      orderNum: '', //订单编号
      ticketInfo: [], specialStartStation: '', //定制班车上车点
      specialEndStation: '', //定制班车下车点
      tickettype: '', //班车类型
      ctkyOpenID: '', passengerNames: [], //乘客姓名数组
      passengerIDs: [], //乘客身份证数组
      weixinOpenId: '' };}, onLoad: function onLoad(param) {var that = this;that.ticketInfo = JSON.parse(param.array); //定制巴士上车点
    that.specialStartStation = that.ticketInfo.pickerStartStation; //定制巴士下车点
    that.specialEndStation = that.ticketInfo.pickerEndStation;uni.showLoading({ title: '加载中...' }); //读取用户信息
    this.getUserInfo(); //读取乘车人信息
    this.getPassengerInfo();}, onShow: function onShow() {}, onUnload: function onUnload() {clearInterval(this.timer);}, //--------------------------监听页面返回--------------------------
  onBackPress: function onBackPress(options) {var that = this; // console.log('from:' + options.from);
    clearInterval(that.timer);if (options.from == 'backbutton') {console.log('that.timer', that.timer);if (that.timer) {clearInterval(that.timer);}}}, methods: { //--------------------------读取用户信息--------------------------
    getUserInfo: function getUserInfo() {var that = this; //读取用户ID
      uni.getStorage({ key: 'userInfo', success: function success(data) {that.userInfo = data.data;that.weixinOpenId = data.data.openId_xcx;} });}, //-------------------------------时间转换-------------------------------
    turnDate: function turnDate(date) {if (date) {var setTime = date.replace('T', ' ');return setTime;}}, //--------------------------读取乘车人信息--------------------------
    getPassengerInfo: function getPassengerInfo() {var that = this; //读取乘车人信息
      uni.getStorage({ key: 'passengerList', success: function success(data) {that.passengerInfo = data.data;if (that.passengerInfo.length > 0) {for (var i = 0; i < that.passengerInfo.length; i++) {var type = '';if (data.data[i].userType == '半票儿童') {type = 0;} else if (data.data[i].userType == '成人') {type = 2;} else if (data.data[i].userType == '免票儿童') {type = 1;} //拼接id name type
              // that.idNameTypeStr += data.data[i].userCodeNum + ',' + data.data[i].userName + ',' + type + '|';
              that.passengerNames.push(data.data[i].userName);that.passengerIDs.push(data.data[i].userCodeNum);that.ticketNum++; //把儿童票筛选出来
              if (that.passengerInfo[i].userType == '半票儿童') {that.childrenNum++;} else if (that.passengerInfo[i].userType == '成人') {that.adultNum++;} else if (that.passengerInfo[i].userType == '免票儿童') {that.freeTicketNum++;}} //把最后面的'｜'去掉
            // that.idNameTypeStr = that.idNameTypeStr.substring(0, that.idNameTypeStr.length - 1);
          } //-------------------------------读取用户openID-------------------------------
          //-------------------------------下单-------------------------------
          that.getOrder();
        },
        fail: function fail() {
          uni.showToast({
            title: '获取信息失败',
            icon: 'none' });

        } });

    },
    //--------------------------读取公众号openid--------------------------
    getOpenID: function getOpenID() {
      var that = this;
      uni.getStorage({
        key: 'scenicSpotOpenId',
        success: function success(response) {
          // alert('获取id成功');
          that.ctkyOpenID = response.data;
          //等待读取用户缓存成功之后再请求接口数据
          that.getOrder();
        },
        fail: function fail(_fail) {
          that.ctkyOpenID = response.data;
          that.getOrder();
        } });

    },
    //--------------------------隐藏操作--------------------------
    hide: function hide(e) {
      if (e == 0) {
        this.hiddenValues = 1;
      } else {
        this.hiddenValues = 0;
      }
    },

    //--------------------------同意购买-点击事件--------------------------
    Selection: function Selection() {
      if (this.channeIndex == 0) {
        this.channeIndex = 1;
      } else {
        this.channeIndex = 0;
      }
    },

    //--------------------------数组提取--------------------------
    screenUser: function screenUser() {
      var adult = this.orderInfo.filter(function (item) {
        return item.userType == '成人';
      });
      var children = this.orderInfo.filter(function (item) {
        return item.userType == '儿童';
      });

      this.adultIndex = adult.length;
      this.childrenIndex = children.length;
      this.adultTotalPrice = adult.length * this.orderInfo[0].ticketAdultPrice;
      this.childrenTotalPrice = children.length * this.orderInfo[0].ticketChildPrice;
    },
    //--------------------------下单--------------------------
    getOrder: function getOrder() {
      var that = this;
      var timer = null;
      var setTime = that.ticketInfo.date.replace('T', ' ');
      var companyCode = '';







      companyCode = _Ctky.default.KyInterface.systemName.systemNameWeiXin;

      var childNum = Number(that.childrenNum) + Number(that.freeTicketNum);

      console.log(companyCode, that.ticketInfo.priceAID, that.userInfo.phoneNumber, that.adultNum, childNum, that.passengerIDs, that.passengerNames, that.userInfo.userId);
      //--------------------------发起下单请求-----------------------
      uni.request({
        url: _Ctky.default.KyInterface.Cs_BookingTicket.Url,
        method: _Ctky.default.KyInterface.Cs_BookingTicket.method,
        data: {
          sellerCompanyCode: companyCode, //公司代码
          priceAID: that.ticketInfo.priceAID, //价格id
          phoneNumber: that.userInfo.phoneNumber, //手机号码
          fullTicket: that.adultNum, //全票人数
          children: childNum, //携童人数
          passengerIDs: that.passengerIDs,
          passengerNames: that.passengerNames,
          TPPID: '', //传空
          UserAID: that.userInfo.userId //用户ID
        },
        success: function success(res) {
          console.log('下单返回数据', res);
          if (res.data) {
            if (res.data.Successed == true) {
              uni.showToast({
                title: res.data.BookResult.Message,
                icon: 'none' });

              that.orderNum = res.data.BookResult.BookLogAID;
              that.getTicketPaymentInfo(res.data.BookResult.BookLogAID);
            } else if (res.data.Successed == false) {
              uni.hideLoading();
              uni.showModal({
                content: res.data.msg,
                showCancel: false,
                success: function success(res) {
                  if (res.confirm) {
                    uni.navigateBack();
                  }
                } });

            }
          }
        },
        fail: function fail(res) {
          console.log('失败', res);
          uni.hideLoading();
        } });

    },
    //--------------------------获取车票支付参数--------------------------
    getTicketPaymentInfo: function getTicketPaymentInfo(res) {
      var that = this;
      var payType = _Ctky.default.KyInterface.payType.payType;
      var timer = null;
      that.timer = timer;
      console.log(res);

      var openId = '';

      openId = that.weixinOpenId;





      uni.showLoading({
        title: '正在获取支付...' });

      timer = setInterval(function () {
        uni.request({
          url: _Ctky.default.KyInterface.commonPayment.Url,
          method: _Ctky.default.KyInterface.commonPayment.method,
          data: {
            //订单编号
            orderNumber: res,
            payType: payType,
            openId: openId,
            billDescript: '定制巴士订单服务费',
            goodsName: '定制巴士服务',
            price: that.ticketInfo.totalPrice
            // price:0.01,
          },
          success: function success(res) {
            console.log(res.data);
            uni.hideLoading();
            if (res.data.status == true) {
              that.paymentData = res.data.data;
              clearInterval(timer);
              uni.showModal({
                content: '请尽快支付',
                success: function success(res) {
                  if (res.confirm) {
                    that.payment();
                  }
                } });

            } else if (res.data.status == false) {
              clearInterval(timer);
            }
          },
          fail: function fail(res) {
            uni.hideLoading();
            console.log('失败');
            //回调失败，取消定时器
            clearInterval(timer);
          } });

      }, 3000);
    },
    //--------------------------调起支付--------------------------
    payment: function payment() {
      var that = this;



















































































      uni.hideLoading();
      uni.requestPayment({
        // provider: 'wxpay',
        timeStamp: that.paymentData.timeStamp,
        nonceStr: that.paymentData.nonceStr,
        package: that.paymentData.package,
        signType: that.paymentData.signType,
        paySign: that.paymentData.paySign,
        success: function success(res) {
          console.log(res);
          if (res.errMsg == "requestPayment:ok") {
            uni.showToast({
              title: '支付成功',
              icon: 'none' });

            uni.showLoading({
              title: '加载中...' });

            that.Cs_paySuccess(that.orderNum);
          } else if (res.errMsg == "requestPayment:fail cancel") {
            setTimeout(function () {
              that.showToast("您取消了支付，请重新支付");
            }, 1000);
          } else if (res.errMsg == "requestPayment:fail errors") {
            setTimeout(function () {
              that.showToast("支付失败，请重新支付");
            }, 1000);
          }
        },
        fail: function fail(res) {
          console.log(res);
          if (res.errMsg == "requestPayment:fail cancel") {
            setTimeout(function () {
              that.showToast("您取消了支付，请重新支付");
            }, 1000);
          } else if (res.errMsg == "requestPayment:fail errors") {
            setTimeout(function () {
              that.showToast("支付失败，请重新支付");
            }, 1000);
          } else {
            that.showToast("支付出错");
          }
        } });


    },
    showToast: function showToast(msg) {var icon = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';
      uni.showToast({
        title: msg,
        icon: icon });

    },
    //--------------------------定制巴士支付成功后请求--------------------------
    Cs_paySuccess: function Cs_paySuccess(bookID) {
      var that = this;
      uni.showLoading({
        title: '正在检索，请稍后...' });

      uni.request({
        url: _Ctky.default.KyInterface.Cs_Confirm.Url,
        method: _Ctky.default.KyInterface.Cs_Confirm.method,
        header: _Ctky.default.KyInterface.Cs_Confirm.header,
        data: {
          bookID: bookID },

        success: function success(res) {
          console.log('支付成功后调接口', res);
          uni.hideLoading();
          if (res.data.BookResult.Successed == true) {
            uni.redirectTo({
              url: '../../TraditionSpecial/PayMent/CTKYPaySuccess' });

          }
        },
        fail: function fail(res) {
          uni.hideLoading();
          console.log('支付失败后调接口', res);
        } });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 418:
/*!****************************************************************************************************************************************!*\
  !*** D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss& ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss& */ 419);
/* harmony import */ var _Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Software_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Software_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Software_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Software_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Software_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_specialBusOrderPayment_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 419:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[412,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../../../.sourcemap/mp-weixin/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.js.map
<view><map class="map vue-ref" style="{{'height:'+(mapHeight)+';'}}" id="map1" scale="{{scale}}" longitude="{{longitude}}" latitude="{{latitude}}" polyline="{{polyline}}" markers="{{markers}}" show-location="{{true}}" data-ref="map1"></map><block wx:if="{{state==0}}"><image class="backImage" src="../../static/CZC/back.png" data-event-opts="{{[['tap',[['back',['$event']]]]]}}" bindtap="__e"></image></block><block wx:if="{{state==0}}"><view style="width:100%;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view class="waitContent" elevation="5px"><image style="width:100rpx;height:100rpx;" src="../../static/CZC/radar.png"></image><view style="margin-top:50rpx;align-items:center;"><text class="isWaitText">正在等待司机接单...</text><text data-event-opts="{{[['tap',[['BouncePay',['$event']]]]]}}" style="color:#999999;font-size:32rpx;padding-top:10rpx;" bindtap="__e">取消订单</text></view></view></view></block><block wx:if="{{state==1||state==2||state==4}}"><view style="width:100%;position:fixed;top:60px;left:0px;right:0px;align-items:center;"><view class="comeTopContent" elevation="5px"><view style="flex-direction:row;"><image style="width:100rpx;height:100rpx;" src="../../static/CZC/HeadPhoto.png"></image><view style="width:470rpx;margin-left:30rpx;"><view style="width:470rpx;"><text class="driverNameText">{{driverName}}</text></view><view style="width:470rpx;flex-direction:row;margin-top:20rpx;"><view style="width:200rpx;"><text class="fontClass-30">{{vehicleNumber}}</text></view><view style="width:200rpx;"></view></view></view><image style="width:40rpx;height:40rpx;" src="../../static/CZC/Call.png" data-event-opts="{{[['tap',[['call',['$event']]]]]}}" bindtap="__e"></image></view><block wx:if="{{state==1}}"><view style="margin-top:10rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;line-height:60rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"出发时间："+AppointmentTime}}</text><text class="fontClass-28" style="color:#ff0000;">{{"上车地点："+StartAddress+''}}</text><view><text class="fontClass-28">司机已接单,请提前前往上车点等候</text></view></view></block><block wx:if="{{state==2}}"><view style="margin-top:30rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"司机距离您的位置"+distance+"公里，预计"+duration+"分钟到达目的地。"}}</text></view></block><block wx:if="{{state==4}}"><view style="margin-top:30rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"距离目的地大约"+distance+"公里，预计"+duration+"分钟到达目的地。"}}</text></view></block></view><view style="width:720rpx;margin-top:20rpx;align-items:flex-end;margin-right:30rpx;"><button style="background-color:#FFFFFF;width:200rpx;margin-right:0;" open-type="share"><text>分享行程</text></button></view></view></block><block wx:if="{{state==2}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view style="flex-direction:row;align-items:flex-start;justify-content:flex-start;width:600rpx;margin-bottom:30rpx;" elevation="0px"><image style="width:120rpx;height:120rpx;" src="../../../static/Home/contact.png" data-event-opts="{{[['tap',[['openContactPopup',['$event']]]]]}}" bindtap="__e"></image></view><view class="comeBottomContent" elevation="5px"><view data-event-opts="{{[['tap',[['callPolice',['$event']]]]]}}" style="width:300rpx;align-items:center;border-right:1px solid #2C2D2D;" bindtap="__e"><text class="callPolice">一键报警</text></view><view data-event-opts="{{[['tap',[['BouncePay',['$event']]]]]}}" style="width:300rpx;align-items:center;" bindtap="__e"><text class="cancle">取消订单</text></view></view></view></block><block wx:if="{{state==1}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view style="width:300rpx;padding-top:30rpx;padding-bottom:30rpx;background-color:#FFFFFF;border-radius:9px;flex-direction:row;box-shadow:0px 6px 20px 0px rgba(231, 231, 231, 0.53);" elevation="5px"><view data-event-opts="{{[['tap',[['BouncePay',['$event']]]]]}}" style="width:300rpx;align-items:center;" bindtap="__e"><text class="cancle">取消订单</text></view></view></view></block><block wx:if="{{state==4}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;"><view style="padding-left:10rpx;flex-direction:row;" elevation="0px"><image style="width:120rpx;height:120rpx;" src="../../../static/Home/CallPollice.png" data-event-opts="{{[['tap',[['callPolice',['$event']]]]]}}" bindtap="__e"></image><image style="width:120rpx;height:120rpx;" src="../../../static/Home/contact.png" data-event-opts="{{[['tap',[['openContactPopup',['$event']]]]]}}" bindtap="__e"></image></view><view style="align-items:center;height:300rpx;"></view></view></block><uni-popup class="vue-ref" vue-id="d532a270-1" maskClick="{{true}}" type="center" data-ref="contactPopup" bind:__l="__l" vue-slots="{{['default']}}"><view style="background-color:#FFFFFF;width:500rpx;padding:40rpx;border-radius:20rpx;justify-content:center;"><view style="text-align:center;align-items:center;margin-bottom:40rpx;"><text style="font-size:32rpx;">添加</text></view><input placeholder="请输入联系人电话号码" maxlength="11" focus="{{inputFocus}}" data-event-opts="{{[['input',[['__set_model',['','autograph','$event',[]]]]]]}}" value="{{autograph}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['saveContact',['$event']]]]]}}" style="background-color:#FC4646;margin-top:40rpx;padding-top:20rpx;padding-bottom:20rpx;line-height:34rpx;" bindtap="__e"><text style="font-size:34rpx;font-family:Source Han Sans SC;font-weight:400;color:#FFFFFF;">确定</text></button></view></uni-popup></view>
<view><map class="map vue-ref" style="{{'height:'+(mapHeight)+';'}}" id="map1" scale="{{scale}}" longitude="{{longitude}}" latitude="{{latitude}}" polyline="{{polyline}}" markers="{{markers}}" show-location="{{true}}" data-ref="map1"></map><block wx:if="{{state==0}}"><image class="backImage" src="../../static/CZC/back.png" data-event-opts="{{[['tap',[['back',['$event']]]]]}}" bindtap="__e"></image></block><block wx:if="{{state==0}}"><view style="width:100%;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view class="waitContent" elevation="5px"><image style="width:100rpx;height:100rpx;" src="../../static/CZC/radar.png"></image><view style="margin-top:50rpx;align-items:center;"><text class="isWaitText">正在等待司机接单...</text><text data-event-opts="{{[['tap',[['cancleOrder',['$event']]]]]}}" style="color:#999999;font-size:32rpx;padding-top:10rpx;" bindtap="__e">取消订单</text></view></view></view></block><block wx:if="{{state==1||state==2||state==4}}"><view style="width:100%;position:fixed;top:60px;left:0px;right:0px;align-items:center;"><view class="comeTopContent" elevation="5px"><view style="flex-direction:row;"><image style="width:100rpx;height:100rpx;" src="../../static/CZC/HeadPhoto.png"></image><view style="width:470rpx;margin-left:30rpx;"><view style="width:470rpx;"><text class="driverNameText">{{driverName}}</text></view><view style="width:470rpx;flex-direction:row;margin-top:20rpx;"><view style="width:200rpx;"><text class="fontClass-30">{{vehicleNumber}}</text></view><view style="width:200rpx;"></view></view></view><image style="width:40rpx;height:40rpx;" src="../../static/CZC/Call.png" data-event-opts="{{[['tap',[['call',['$event']]]]]}}" bindtap="__e"></image></view><block wx:if="{{state==1}}"><view style="margin-top:10rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;line-height:60rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"出发时间："+AppointmentTime}}</text><text class="fontClass-28" style="color:#ff0000;">{{"上车地点："+StartAddress+''}}</text><view><text class="fontClass-28">司机已接单,请提前前往上车点等候</text></view></view></block><block wx:if="{{state==2}}"><view style="margin-top:30rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"司机距离您的位置"+distance+"公里，预计"+duration+"分钟到达出发点。"}}</text></view></block><block wx:if="{{state==4}}"><view style="margin-top:30rpx;border-top:1px solid #EAEAEA;padding-top:30rpx;"><text class="fontClass-28" style="color:#ff0000;">{{"距离目的地大约"+distance+"公里，预计"+duration+"分钟到达目的地。"}}</text></view></block></view><view style="width:720rpx;margin-top:20rpx;align-items:flex-end;margin-right:30rpx;"><button style="background-color:#FFFFFF;width:200rpx;margin-right:0;" open-type="share"><text>分享行程</text></button></view></view></block><block wx:if="{{state==2}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view style="flex-direction:row;align-items:flex-start;justify-content:flex-start;width:600rpx;margin-bottom:30rpx;" elevation="0px"><image style="width:120rpx;height:120rpx;" src="../../../static/Home/contact.png" data-event-opts="{{[['tap',[['openContactPopup',['$event']]]]]}}" bindtap="__e"></image></view><view class="comeBottomContent"><view data-event-opts="{{[['tap',[['callPolice',['$event']]]]]}}" style="width:300rpx;align-items:center;border-right:1px solid #2C2D2D;" bindtap="__e"><text class="callPolice">一键报警</text></view><view data-event-opts="{{[['tap',[['cancleOrder',['$event']]]]]}}" style="width:300rpx;align-items:center;" bindtap="__e"><text class="cancle">取消订单</text></view></view></view></block><block wx:if="{{state==1}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;align-items:center;"><view style="width:300rpx;padding-top:30rpx;padding-bottom:30rpx;background-color:#FFFFFF;border-radius:9px;flex-direction:row;" elevation="5px"><view data-event-opts="{{[['tap',[['cancleOrder',['$event']]]]]}}" style="width:300rpx;align-items:center;" bindtap="__e"><text class="cancle">取消订单</text></view></view></view></block><block wx:if="{{state==4}}"><view style="width:750rpx;position:fixed;bottom:40px;left:0px;right:0px;"><view style="padding-left:10rpx;flex-direction:row;" elevation="0px"><image style="width:120rpx;height:120rpx;" src="../../../static/Home/CallPollice.png" data-event-opts="{{[['tap',[['callPolice',['$event']]]]]}}" bindtap="__e"></image><image style="width:120rpx;height:120rpx;" src="../../../static/Home/contact.png" data-event-opts="{{[['tap',[['openContactPopup',['$event']]]]]}}" bindtap="__e"></image></view><view style="align-items:center;height:300rpx;"></view></view></block><uni-popup class="vue-ref" vue-id="79bab13b-1" maskClick="{{false}}" type="bottom" data-ref="bottomPopup" bind:__l="__l" vue-slots="{{['default']}}"><form data-event-opts="{{[['submit',[['payment',['$event']]]]]}}" bindsubmit="__e"><view style="background-color:#FFFFFF;padding:20px;border-top-left-radius:9px;border-top-right-radius:9px;"><view style="flex-direction:row;justify-content:space-between;"><view></view><view><text style="font-size:38rpx;font-family:Source Han Sans SC;font-weight:400;color:#2C2D2D;">{{"支付"+driverName+"车费"}}</text></view><view><uni-icons vue-id="{{('79bab13b-2')+','+('79bab13b-1')}}" type="closeempty" size="19" data-event-opts="{{[['^click',[['close']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></view></view><view style="margin-top:30px;flex-direction:row;justify-content:center;align-items:center;"><text style="font-size:60rpx;font-family:Source Han Sans SC;font-weight:bold;color:#2C2D2D;">{{totalPrice}}</text><text style="font-size:34rpx;font-family:Source Han Sans SC;font-weight:Light;color:#2C2D2D;">元</text></view><view style="flex-direction:row;justify-content:center;align-items:center;"><text data-event-opts="{{[['tap',[['payDetail',['$event']]]]]}}" style="font-size:32rpx;font-family:Source Han Sans SC;font-weight:300;color:#727272;" bindtap="__e">费用明细</text><uni-icons vue-id="{{('79bab13b-3')+','+('79bab13b-1')}}" type="arrowright" size="15" color="#727272" data-event-opts="{{[['^click',[['payDetail']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></view><view style="border-top-width:1px;border-color:#EAEAEA;margin-top:20px;padding-top:20px;"><radio-group name="chooseType"><block wx:for="{{payType}}" wx:for-item="item" wx:for-index="__i0__" wx:key="typeName"><view style="flex-direction:row;justify-content:space-between;padding-bottom:20px;"><view style="flex-direction:row;justify-content:center;align-items:center;"><image style="height:42rpx;width:42rpx;" src="{{item.iconPath}}"></image><text style="margin-left:5rpx;font-size:32rpx;font-family:Source Han Sans SC;font-weight:300;color:#000000;">{{item.typeName}}</text></view><view><radio value="{{item.value}}" checked="{{item.checked}}" color="{{item.typeColor}}"></radio></view></view></block></radio-group></view><view><button style="width:100%;height:100rpx;background-color:#FE4644;color:#FFFFFF;" form-type="submit"><text style="font-size:34rpx;font-family:Source Han Sans SC;font-weight:400;color:#FFFFFF;">{{"确定支付"+totalPrice+"元"}}</text></button></view></view></form></uni-popup><uni-popup class="vue-ref" vue-id="79bab13b-4" maskClick="{{true}}" type="center" data-ref="contactPopup" bind:__l="__l" vue-slots="{{['default']}}"><view style="background-color:#FFFFFF;width:500rpx;padding:40rpx;border-radius:20rpx;justify-content:center;"><view style="text-align:center;align-items:center;margin-bottom:40rpx;"><text style="font-size:32rpx;">添加</text></view><input placeholder="请输入紧急联系人电话" maxlength="11" focus="{{inputFocus}}" data-event-opts="{{[['input',[['__set_model',['','autograph','$event',[]]]]]]}}" value="{{autograph}}" bindinput="__e"/><button data-event-opts="{{[['tap',[['saveContact',['$event']]]]]}}" style="background-color:#FC4646;margin-top:40rpx;padding-top:20rpx;padding-bottom:20rpx;line-height:34rpx;" bindtap="__e"><text style="font-size:34rpx;font-family:Source Han Sans SC;font-weight:400;color:#FFFFFF;">确定</text></button></view></uni-popup></view>
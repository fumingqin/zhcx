{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?5d7b","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?329d","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?20c7","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?2502","uni-app:///pages_CZC/pages/CZC/WaitTakeOrder.nvue","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?e092","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?eea0","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?cd80","webpack:///D:/UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue?03c0"],"names":["createPage","Page"],"mappings":"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CA,gCACA;AACA,0CAFA,CAEA;AACA,0CACA,0BAJA,CAIA;AACA,sCACA,oCACA,oCACA,oCARA,CAQA;AACA,8CACA,wCAVA,CAUA;AACA,oCAXA,CAWA;AACA,kDACA,sCACA,8DAdA,CAeA;AACA,gGACA,4EACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;;AAEA,aAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAZA,MAYA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BADA;AAEA;AACA;AACA;AACA;AACA,iBANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aA5BA,MA4BA;AACA;AACA;AACA;AACA;AACA,uCADA;;AAGA,aAPA,MAOA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA;AACA;AACA;AACA,8BADA;AAEA,4BAFA;;AAIA;AACA;AACA;AACA,eAHA,EAGA,IAHA;AAIA;AACA,aAZA,MAYA;AACA;AACA;AACA;AACA;AACA,WAjGA,MAiGA;AACA;AACA,iCADA;AAEA,0BAFA;;AAIA;AACA,SAnHA;AAoHA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA;AACA,SA3HA;;AA6HA,KA5KA;AA6KA;AACA;AACA;AACA;AACA;AACA,kFADA;AAEA,sFAFA;AAGA;AACA,yCADA,EAHA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA,kDAHA,CAGA;AACA;AACA,sCALA,CAKA;AACA,sDANA,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,eALA,MAKA;AACA;AACA;AACA;AACA,mCADA;AAEA,gCAFA;;AAIA;AACA;AACA,eATA,MASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,gCAFA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAjBA,MAiBA;AACA;AACA;AACA;AACA,eAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA;AACA;AACA;AACA;AACA,mBANA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAvCA,MAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCADA;;AAGA,eAZA,MAYA;AACA;AACA;AACA;AACA,eAJA,MAIA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA,iBAHA,EAGA,IAHA;AAIA,eAZA,MAYA;AACA;AACA;AACA;AACA;AACA,aArHA,MAqHA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA,WApIA;AAqIA;AACA;AACA;AACA,6BADA;AAEA,0BAFA;;AAIA,WA3IA;;AA6IA,OA9IA,EA8IA,IA9IA;AA+IA,KA/TA;;AAiUA;AACA;AACA;AACA;AACA;AACA,qCADA;;AAGA,KAxUA;AAyUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA,yBAHA;AAIA,+BAJA;AAKA,eALA,mBAKA,GALA,EAKA;AACA;AACA;AACA,2BADA;AAEA,2BAFA;AAGA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,eA7CA;;AA+CA;AACA,SAvDA;;AAyDA,KAxYA;AAyYA;AACA;AACA;AACA,8DADA;AAEA,kEAFA;AAGA;AACA,8DADA;AAEA,0DAFA,EAHA;;AAOA,eAPA,mBAOA,GAPA,EAOA;AACA;AACA,uEADA;AAEA,2EAFA;AAGA;AACA,2CADA;AAEA,mDAFA;AAGA,kCAHA;AAIA,iCAJA;AAKA,2DALA,EAHA;;AAUA,mBAVA,mBAUA,GAVA,EAUA;AACA;AACA;AACA,6CADA;;AAGA;AACA;AACA,qCADA;AAEA,8BAFA;;AAIA,eALA,MAKA;AACA;AACA,qCADA;AAEA,8BAFA;;AAIA;AACA,aA1BA;AA2BA,gBA3BA,kBA2BA;AACA;AACA,6CADA;;AAGA;AACA,+BADA;AAEA,4BAFA;;AAIA,aAnCA;;AAqCA,SA7CA;;;AAgDA,KA3bA;AA4bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KA1dA;AA2dA;AACA;AACA,0BAFA,CAEA;;;;;AAKA;;AAEA;AACA,8DADA;AAEA,kEAFA;AAGA;AACA,8BADA;AAEA,uCAFA,EAHA;;AAOA,eAPA,mBAOA,GAPA,EAOA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA,SAlBA;AAmBA,YAnBA,kBAmBA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA,SAzBA;;AA2BA,KA/fA;AAggBA;AACA;AACA,0BAFA,CAEA;;;;;AAKA;;AAEA;AACA,qBADA;AAEA,0BAFA;AAGA,eAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA,wBADA;;AAGA;AACA,gEADA;AAEA,oEAFA;AAGA;AACA,oCADA;AAEA,6CAFA;AAGA;AACA;AAJA,eAHA;AASA,qBATA,mBASA,GATA,EASA;AACA;AACA;AACA;AACA;AACA,iBAHA,MAGA;AACA;AACA;AACA,iCADA;AAEA,gCAFA;;AAIA;AACA,eArBA;AAsBA,kBAtBA,gBAsBA,GAtBA,EAsBA;AACA;AACA;AACA,iCADA;AAEA,8BAFA;;AAIA,eA5BA;;AA8BA;AACA,SAvCA;;AAyCA,KAljBA;AAmjBA;AACA;AACA;AACA;AACA;AACA,iFADA;AAEA,qFAFA;AAGA;AACA,uCADA;AAEA,sCAFA,EAHA;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,0BAFA;;AAIA;AACA;AACA,aAFA,EAEA,IAFA;AAGA,WAdA,MAcA;AACA;AACA;AACA,iCADA;AAEA,0BAFA;;AAIA;AACA,SA9BA;AA+BA;AACA;AACA;AACA,2BADA;AAEA,wBAFA;;AAIA,SArCA;;;AAwCA,KA/lBA;AAgmBA;AACA;AACA;AACA;AACA;AACA,wBADA;;AAGA,KAvmBA;AAwmBA;AACA;AACA;AACA;AACA,iCADA;;;AAIA,KA/mBA;AAgnBA;AACA;AACA;AACA;AACA,iCADA;;AAGA,KAtnBA;AAunBA;AACA;AACA;;AAEA;AACA;AACA,2CADA;AAEA,wBAFA;AAGA,4BAHA;AAIA,oBAJA;AAKA,mBALA;AAMA,mBANA;AAOA;AACA;AACA;AACA,gCADA;;AAGA,SAZA;AAaA;AACA;AACA;AACA,gCADA;;AAGA,SAlBA;;AAoBA,KAhpBA;AAipBA;AACA;AACA;AACA,6BADA;;AAGA,KAtpBA;AAupBA;AACA;AACA;AACA;AACA,qBADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SATA;;AAWA,KArqBA;AAsqBA;AACA;AACA;AACA;AACA;AACA,KA3qBA;AA4qBA;AACA;AACA;AACA;AACA;AACA,uBADA;AAEA;AACA;AACA;AACA;AACA,WANA;;AAQA,OATA,EASA,KATA;AAUA,KAzrBA;AA0rBA;AACA;AACA;AACA;AACA,OAFA,EAEA,KAFA;AAGA,KA/rBA;;;AAksBA;AACA;AACA;AACA;AACA,6CADA;AAEA;AACA,kCADA;AAEA,8BAFA,EAFA;;AAMA,qBANA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,8BAFA;;AAIA;AACA;AACA;AACA,+BADA;AAEA,4BAFA;AAGA,2BAHA;AAIA,oBAJA;;AAMA;AACA,SAxCA;AAyCA;AACA;AACA,SA3CA;;AA6CA,KAlvBA;AAmvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA;AACA;AACA;AACA,cADA;AAEA,qBAFA;AAGA,sBAHA;AAIA,0BAJA;AAKA,oBALA;AAMA,sBANA;;AAQA;AACA;AACA;AACA;AACA,KAhxBA,EA/GA,E;;;;;;;;;;;;;AChJA;AAAA;AAAA;AAAA;AAAk9B,CAAgB,46BAAG,EAAC,C;;;;;;;;;;;ACAt+B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAk9B,CAAgB,46BAAG,EAAC,C;;;;;;;;;;;ACAt+B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_CZC/pages/CZC/WaitTakeOrder.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages_CZC/pages/CZC/WaitTakeOrder.nvue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./WaitTakeOrder.nvue?vue&type=template&id=efa31282&\"\nvar renderjs\nimport script from \"./WaitTakeOrder.nvue?vue&type=script&lang=js&\"\nexport * from \"./WaitTakeOrder.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./WaitTakeOrder.nvue?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./WaitTakeOrder.nvue?vue&type=style&index=1&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"UAD/zhcx/pages_CZC/pages/CZC/WaitTakeOrder.nvue\"\nexport default component.exports","export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=template&id=efa31282&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=script&lang=js&\"","<style>\n  view,\n  swiper-item,\n  scroll-view {\n    display:flex;\n    flex-direction:column;\n    flex-shrink: 0;\n    flex-grow: 0;\n    flex-basis: auto;\n    align-items: stretch;\n    align-content: flex-start;\n  }\n  view,\n  image,\n  input,\n  scroll-view,\n  swiper,\n  swiper-item,\n  text,\n  textarea,\n  video {\n    position: relative;\n    border: 0px solid #000000;\n    box-sizing: border-box;\n  }\n  swiper-item {\n    position: absolute;\n  }\n</style>\n<template>\r\n\t<view>\r\n\t\t<map id=\"map1\" ref=\"map1\" class=\"map\" :style=\"{height:mapHeight}\" :scale=\"scale\" :longitude=\"longitude\" :latitude=\"latitude\"\r\n\t\t :polyline=\"polyline\" :markers=\"markers\" :show-location=\"true\">\r\n\r\n\t\t</map>\r\n\t\t<image v-if='state == 0' class=\"backImage\" @click=\"back\" src=\"../../static/CZC/back.png\" style=\"\"></image>\r\n\t\t<view v-if='state == 0' style=\"width: 100%;position: fixed;bottom: 40px;left: 0px;right: 0px;align-items: center;\">\r\n\t\t\t<!-- 司机未接单 -->\r\n\t\t\t<view class=\"waitContent\" elevation='5px'>\r\n\t\t\t\t<image src=\"../../static/CZC/radar.png\" style=\"width: 100rpx;height: 100rpx;\"></image>\r\n\t\t\t\t<view style=\"margin-top: 50rpx;align-items: center;\">\r\n\t\t\t\t\t<text class=\"isWaitText\">正在等待司机接单...</text>\r\n\t\t\t\t\t<text style=\"color: #999999;font-size: 32rpx;padding-top: 10rpx;\" @click=\"BouncePay\">取消订单</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if='state == 1 || state == 2 || state == 4' style=\"width: 100%;position: fixed;top: 60px;left: 0px;right: 0px;align-items: center;\">\r\n\t\t\t<!-- 司机前往乘客地 -->\r\n\t\t\t<view elevation='5px' class=\"comeTopContent\">\r\n\t\t\t\t<view style=\"flex-direction: row; \">\r\n\t\t\t\t\t<image src=\"../../static/CZC/HeadPhoto.png\" style=\"width: 100rpx;height: 100rpx;\">\r\n\t\t\t\t\t</image>\r\n\t\t\t\t\t<view style=\"width: 470rpx;margin-left: 30rpx;\">\r\n\t\t\t\t\t\t<view style=\"width: 470rpx;\">\r\n\t\t\t\t\t\t\t<text class=\"driverNameText\">{{driverName}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view style=\"width: 470rpx;flex-direction:row;margin-top: 20rpx;\">\r\n\t\t\t\t\t\t\t<view style=\"width: 200rpx;\">\r\n\t\t\t\t\t\t\t\t<text class=\"fontClass-30\">{{vehicleNumber}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view style=\"width: 200rpx;\">\r\n\t\t\t\t\t\t\t\t<!-- <text class=\"fontClass-30\">豪华SUV</text> -->\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<image @click=\"call\" src=\"../../static/CZC/Call.png\" style=\"width: 40rpx;height: 40rpx;\"></image>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"state == 1\" style=\"margin-top: 10rpx;border-top:1px solid #EAEAEA;padding-top: 30rpx;line-height: 60rpx;\">\r\n\t\t\t\t\t<text class=\"fontClass-28\" style=\"color: #ff0000;\">出发时间：{{AppointmentTime}}</text>\r\n\t\t\t\t\t<text class=\"fontClass-28\" style=\"color: #ff0000;\">上车地点：{{StartAddress}} </text>\r\n\t\t\t\t\t<view><text class=\"fontClass-28\">司机已接单,请提前前往上车点等候</text></view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"state == 2\" style=\"margin-top: 30rpx;border-top:1px solid #EAEAEA;padding-top: 30rpx;\">\r\n\t\t\t\t\t<text class=\"fontClass-28\" style=\"color: #ff0000;\">司机距离您的位置{{distance}}公里，预计{{duration}}分钟到达出发点。</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view v-if=\"state == 4\" style=\"margin-top: 30rpx;border-top:1px solid #EAEAEA;padding-top: 30rpx;\">\r\n\t\t\t\t\t<text class=\"fontClass-28\" style=\"color: #ff0000;\">距离目的地大约{{distance}}公里，预计{{duration}}分钟到达目的地。</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- #ifdef MP-WEIXIN -->\r\n\t\t\t<view style=\"width: 720rpx;margin-top: 20rpx;align-items: flex-end;margin-right: 30rpx;\">\r\n\t\t\t\t<button open-type=\"share\" style=\"background-color: #FFFFFF;width: 200rpx;margin-right: 0;\"><text>分享行程</text></button>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t\t<!-- #ifdef APP-PLUS -->\r\n\t\t\t<view style=\"width: 720rpx;margin-top: 20rpx;align-items: flex-end;margin-right: 30rpx;\">\r\n\t\t\t\t<button  style=\"background-color: #FFFFFF;width: 200rpx;margin-right: 0;\" @click=\"ShareTrip\"><text style=\"font-size: 32rpx;margin: 20rpx;\">分享行程</text></button>\r\n\t\t\t</view>\r\n\t\t\t<!-- #endif -->\r\n\t\t</view>\r\n\t\t<view v-if='state == 2' style=\"width: 750rpx;position: fixed;bottom: 40px;left: 0px;right: 0px;align-items: center;\">\r\n\t\t\t<!-- 司机前往乘客地 -->\r\n\t\t\t<view elevation='5px' class=\"comeBottomContent\">\r\n\t\t\t\t<view @click=\"callPolice\" style=\"width: 300rpx;align-items: center;border-right:1px solid #2C2D2D;\">\r\n\t\t\t\t\t<text class=\"callPolice\" style=\"\">一键报警</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view @click=\"BouncePay\" style=\"width: 300rpx;align-items: center;\">\r\n\t\t\t\t\t<text class=\"cancle\">取消订单</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if='state == 1' style=\"width: 100%;position: fixed;bottom: 40px;left: 0px;right: 0px;align-items: center;\">\r\n\t\t\t<!-- 司机前往乘客地 -->\r\n\t\t\t<view elevation='5px' style=\"width: 300rpx;padding-top: 30rpx;padding-bottom: 30rpx;background-color: #FFFFFF;border-radius: 9px;flex-direction: row;box-shadow: 0px 6px 20px 0px rgba(231, 231, 231, 0.53);\">\r\n\t\t\t\t<view @click=\"BouncePay\" style=\"width: 300rpx;align-items: center;\">\r\n\t\t\t\t\t<text class=\"cancle\">取消订单</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view v-if='state == 4' style=\"width: 750rpx;position: fixed;bottom: 40px;left: 0px;right: 0px;\">\r\n\t\t\t<view style=\"padding-left: 10rpx;\" elevation='0px'>\r\n\t\t\t\t<image @click=\"callPolice\" src=\"../../../static/Home/CallPollice.png\" style=\"width: 120rpx;height: 120rpx;\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view style=\"align-items: center;height: 300rpx;\">\r\n\t\t\t\t<!-- <view elevation='5px' class=\"orderBottomContent\">\r\n\t\t\t\t\t<view style=\"flex-direction: row;justify-content: space-between;margin-bottom: 30rpx;padding-bottom: 30rpx;border-bottom:1px solid #EAEAEA;\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text class=\"orderTitleFont\">车费合计{{totalPrice}}元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t <text @click=\"payDetail\" style=\"font-size:26rpx;font-family:Source Han Sans SC;font-weight:400;color:#4281FF;\">费用疑问</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-for=\"item in priceArr\" :key='item.key' style=\"flex-direction: row;justify-content: space-between;padding-bottom: 30rpx;\">\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text class=\"orderTitleFont\">{{item.key}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view>\r\n\t\t\t\t\t\t\t<text class=\"orderTitleFont\">{{item.value}}元</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view> -->\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $privateTaxi from \"@/common/Czcprivate.js\"; //出租车专线\r\n\timport $taxi from '@/common/Czc.js';\r\n\timport uniPopup from \"@/pages_CZC/components/CZC/uni-popup/uni-popup.vue\";\r\n\timport uniIcons from \"@/pages_CZC/components/CZC/uni-icons/uni-icons.vue\";\r\n\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tuniPopup,\r\n\t\t\tuniIcons\r\n\t\t},\r\n\r\n\t\tdata() {\r\n\t\t\tvar that = this;\r\n\t\t\treturn {\r\n\t\t\t\tscale: 15,\r\n\t\t\t\tlongitude: \"\", //地图中心点经度\r\n\t\t\t\tlatitude: \"\", //地图中心点纬度\r\n\t\t\t\tpoints: [],\r\n\t\t\t\tpolyline: [], //线\r\n\t\t\t\tdirectionInterval: 0, //规划用定时器。\r\n\t\t\t\torderInterval: 0, //获取司机是否接单用定时器。\r\n\t\t\t\tcomingInterval: 0, //司机到达乘客出发地用定时器。\r\n\t\t\t\tdistance: '', //距离\r\n\t\t\t\tduration: '', //预计时间\r\n\t\t\t\tmarkers: [], //标记点\r\n\t\t\t\tmapHeight: '', //地图高度\r\n\t\t\t\thintIndex: -1, //提示状态值\r\n\t\t\t\thintIndex1: -1, //提示状态值\r\n\t\t\t\tmapContext: '', //mapContext对象\r\n\t\t\t\tisShow: false,\r\n\t\t\t\tindex: 0,\r\n\t\t\t\tlon: \"\", //用户位置经度\r\n\t\t\t\tlat: \"\", //用户位置纬度\r\n\t\t\t\t//接口数据\r\n\t\t\t\torderNumber: '',\r\n\t\t\t\tvehicleNumber: '',\r\n\t\t\t\tstate: '', //订单状态\r\n\t\t\t\tstartLon: \"\", //开始\r\n\t\t\t\tstartLat: \"\",\r\n\t\t\t\tendLon: \"\", //结束\r\n\t\t\t\tendLat: \"\",\r\n\t\t\t\tthisDriverLon: \"\", //司机位置经度\r\n\t\t\t\tthisDriverLat: \"\", //司机位置纬度\r\n\t\t\t\tdriverName: '张师傅', //司机姓名\r\n\t\t\t\ttotalPrice: 32.5,\r\n\t\t\t\tdriverPhone: '0', //司机电话号码\r\n\t\t\t\tuserInfo: [],\r\n\t\t\t\tpriceArr: [{\r\n\t\t\t\t\t\tkey: '起步价',\r\n\t\t\t\t\t\tvalue: '10.0'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: '里程',\r\n\t\t\t\t\t\tvalue: '21.0'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey: '等候',\r\n\t\t\t\t\t\tvalue: '0.5'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tpayType: [{\r\n\t\t\t\t\t\ttypeName: '微信',\r\n\t\t\t\t\t\ttypeColor: '#00C805',\r\n\t\t\t\t\t\ticonPath: '../../static/CZC/Wechatpay.png',\r\n\t\t\t\t\t\tvalue: 'wxpay',\r\n\t\t\t\t\t\tchecked: true,\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttypeName: '支付宝',\r\n\t\t\t\t\t\ttypeColor: '#0EBDFF',\r\n\t\t\t\t\t\ticonPath: '../../static/CZC/Alipay.png',\r\n\t\t\t\t\t\tvalue: 'alipay',\r\n\t\t\t\t\t\tchecked: false\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tFactPayPrice: '', //订单价格\r\n\t\t\t\tAppointmentTime: '', //预约时间\r\n\t\t\t\tStartAddress: '', //上车点\r\n\t\t\t\tUrgentPhone: \"110\", //紧急联系人电话\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(option) {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.userInfo = uni.getStorageSync('userInfo') || '';\r\n\t\t\tthat.orderNumber = option.orderNumber;\r\n\t\t\tgetApp().globalData.orderNumber = that.orderNumber; //更改当前订单号\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\t//设置地图高度为可使用的高度\r\n\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\tthat.mapHeight = res.windowHeight + 'px';\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthat.getMyLocaton();\r\n\t\t\tthat.getOrder();\r\n\t\t\tthat.getRealOrder();\r\n\t\t\t/* that.test(); */\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tlet that = this;\r\n\t\t\tthat.mapContext = uni.createMapContext(\"map\", this);\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tlet that = this;\r\n\t\t\tclearInterval(that.orderInterval);\r\n\t\t\tclearInterval(that.directionInterval);\r\n\t\t\tclearInterval(that.comingInterval);\r\n\t\t},\r\n\t\tonShareAppMessage(res) {\r\n\t\t\tvar that=this;\r\n\t\t\tif (res.from === 'button') { // 来自页面内分享按钮\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttitle: '你的好友分享给你一个行程',\r\n\t\t\t\t\tpath: \"/pages_CZC/pages/CZC/TripShare?type=出租车_专线&orderNumber=\"+that.orderNumber\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tShareTrip:function(){\r\n\t\t\t\tvar that=this;\r\n\t\t\t\t// uni.share({//分享小程序卡片\r\n\t\t\t\t//     provider: \"weixin\",\r\n\t\t\t\t//     scene: \"WXSceneSession\",\r\n\t\t\t\t//     type: 5,\r\n\t\t\t\t//        imageUrl: 'https://img-cdn-qiniu.dcloud.net.cn/uniapp/app/share-logo@3.png',\r\n\t\t\t\t//        title: '你的好友给你分享了一个行程',\r\n\t\t\t\t//        miniProgram: {\r\n\t\t\t\t//            id: 'wx8dcbb62a76885221',\r\n\t\t\t\t//            path: \"/pages_CZC/pages/CZC/TripShare?type=出租车_专线&orderNumber=\"+that.orderNumber,\r\n\t\t\t\t//            type: 2 ,\r\n\t\t\t\t//            webUrl: 'http://uniapp.dcloud.io'\r\n\t\t\t\t//        },\r\n\t\t\t\t// });\r\n\t\t\t\tuni.share({//图文分享\r\n\t\t\t\t    provider: \"weixin\",\r\n\t\t\t\t    scene: \"WXSceneSession\",\r\n\t\t\t\t    type: 0,\r\n\t\t\t\t    href: \"http://36.250.234.10:60039/h5/#/pages_CZC/pages/CZC/TripShare?type=出租车_专线&orderNumber=\"+that.orderNumber,\r\n\t\t\t\t    title: \"行程分享\",\r\n\t\t\t\t    summary: \"你的好友给你分享了一个行程,赶紧查看！\",\r\n\t\t\t\t    imageUrl: \"http://36.250.234.10:60039/UpLoadImages/Image/QuanYunLogo.png\",\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\topenBottomPopup: function() {\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.$refs['bottomPopup'].open();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcloseBottomPopup: function() {\r\n\t\t\t\tthis.$nextTick(function() {\r\n\t\t\t\t\tthis.$refs['bottomPopup'].close();\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tback: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.navigateBack();\r\n\t\t\t},\r\n\t\t\tgetOrder: function() {\r\n\t\t\t\t//上级页面统一返回订单编号。此处根据订单编号获取上下车点。\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t})\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $privateTaxi.Interface.QuerySpecialLineOrder_Passenger.value,\r\n\t\t\t\t\tmethod: $privateTaxi.Interface.QuerySpecialLineOrder_Passenger.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tOrderNumber: that.orderNumber\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t// console.log(res.data);\r\n\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\t//成功\r\n\t\t\t\t\t\t// console.log(res);\r\n\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\t//赋值结束点经纬度\r\n\t\t\t\t\t\t\tthat.startLon = data.StartLon; //起点\r\n\t\t\t\t\t\t\tthat.startLat = data.StartLat;\r\n\t\t\t\t\t\t\tthat.endLon = data.EndLon; //终点\r\n\t\t\t\t\t\t\tthat.endLat = data.EndLat;\r\n\t\t\t\t\t\t\tthat.thisDriverLon = data.DriverLon;\r\n\t\t\t\t\t\t\tthat.thisDriverLat = data.DriverLat;\r\n\t\t\t\t\t\t\tthat.driverPhone = data.DriverPhone; //司机电话\r\n\t\t\t\t\t\t\tthat.driverName = data.DriverName;\r\n\t\t\t\t\t\t\tthat.vehicleNumber = data.VehicleNumber; //车牌号\r\n\t\t\t\t\t\t\tthat.state = data.State; //订单状态\r\n\t\t\t\t\t\t\tthat.FactPayPrice = data.FactPayPrice;\r\n\t\t\t\t\t\t\tthat.StartAddress = data.StartAddress;\r\n\t\t\t\t\t\t\tthat.AppointmentTime = data.AppointmentTime.replace(\"T\", \" \");\r\n\t\t\t\t\t\t\t//绘制起终点标记\r\n\t\t\t\t\t\t\tthat.setMarker('start', that.startLon, that.startLat, '../../static/CZC/Start.png');\r\n\t\t\t\t\t\t\tthat.setMarker('end', that.endLon, that.endLat, '../../static/CZC/End.png');\r\n\t\t\t\t\t\t\tif (that.state == 0) {\r\n\t\t\t\t\t\t\t\t//等待接单\r\n\t\t\t\t\t\t\t\tthat.hintIndex = 0;\r\n\t\t\t\t\t\t\t\tthat.hintIndex1 = 0;\r\n\t\t\t\t\t\t\t} else if (that.state == 1) {\r\n\t\t\t\t\t\t\t\t//司机已接单\r\n\r\n\t\t\t\t\t\t\t} else if (that.state == 2) {\r\n\t\t\t\t\t\t\t\t//司机已出发\r\n\t\t\t\t\t\t\t\t//state == 5\r\n\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t\t//绘制司机标记点\r\n\t\t\t\t\t\t\t\tthat.setMarker('taxi', that.thisDriverLon, that.thisDriverLat, '../../static/CZC/Car.png');\r\n\t\t\t\t\t\t\t\t//第一次路线规划\r\n\t\t\t\t\t\t\t\t//从司机位置到起点\r\n\t\t\t\t\t\t\t\tthat.getDirectionDriving(that.thisDriverLon + ',' + that.thisDriverLat, that.startLon + ',' + that.startLat);\r\n\t\t\t\t\t\t\t\t//开启时时规划\r\n\t\t\t\t\t\t\t\tthat.openRealComing();\r\n\t\t\t\t\t\t\t} else if (that.state == 3) {\r\n\t\t\t\t\t\t\t\t//司机已到出发地\r\n\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t} else if (that.state == 4) {\r\n\t\t\t\t\t\t\t\t//订单执行中\r\n\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t\t//state == 10\r\n\t\t\t\t\t\t\t\t//第一次路线规划\r\n\t\t\t\t\t\t\t\t//绘制司机标记点\r\n\t\t\t\t\t\t\t\tthat.setMarker('taxi', that.thisDriverLon, that.thisDriverLat, '../../static/CZC/Car.png');\r\n\t\t\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\tthat.lon = res.longitude;\r\n\t\t\t\t\t\t\t\t\t\tthat.lat = res.latitude;\r\n\t\t\t\t\t\t\t\t\t\tthat.getDirectionDriving(that.lon + ',' + that.lat, that.endLon + ',' + that.endLat);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t//开启时时规划\r\n\t\t\t\t\t\t\t\tthat.openRealDirection();\r\n\t\t\t\t\t\t\t\t// }else if (that.state == 5) {\r\n\t\t\t\t\t\t\t\t// \t//state == 15\r\n\t\t\t\t\t\t\t\t// \tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t// \t// uni.showToast({\r\n\t\t\t\t\t\t\t\t// \t// \ttitle: '请支付订单',\r\n\t\t\t\t\t\t\t\t// \t// \ticon: 'none'\r\n\t\t\t\t\t\t\t\t// \t// })\r\n\t\t\t\t\t\t\t\t// \tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t// \t\turl:\"./PaymentSuccess\"\r\n\t\t\t\t\t\t\t\t// \t})\r\n\t\t\t\t\t\t\t} else if (that.state == 6) {\r\n\t\t\t\t\t\t\t\t//支付完成\r\n\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\turl: \"./PaymentSuccess\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} else if (that.state == 7) {\r\n\t\t\t\t\t\t\t\t//司机取消订单\r\n\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t} else if (that.state == 8) {\r\n\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '订单已取消',\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack({});\r\n\t\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\t\t//旅客取消订单\r\n\t\t\t\t\t\t\t} else if (that.state == 9) {\r\n\t\t\t\t\t\t\t\t//支付失败\r\n\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络连接失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetRealOrder: function() {\r\n\t\t\t\t//时时获取订单状态\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.orderInterval = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: $privateTaxi.Interface.QuerySpecialLineOrder_Passenger.value,\r\n\t\t\t\t\t\tmethod: $privateTaxi.Interface.QuerySpecialLineOrder_Passenger.method,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tOrderNumber: that.orderNumber\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\t\tthat.thisDriverLon = data.DriverLon;\r\n\t\t\t\t\t\t\t\tthat.thisDriverLat = data.DriverLat;\r\n\t\t\t\t\t\t\t\tthat.driverPhone = data.DriverPhone; //司机电话\r\n\t\t\t\t\t\t\t\tthat.driverName = data.DriverName;\r\n\t\t\t\t\t\t\t\tthat.state = data.State; //订单状态\r\n\t\t\t\t\t\t\t\tthat.vehicleNumber = data.VehicleNumber; //车牌号\r\n\t\t\t\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\t\t\t\t// console.log(data.thisDriverLon);\r\n\t\t\t\t\t\t\t\t// console.log(data.thisDriverLat);\r\n\t\t\t\t\t\t\t\tif (that.state == 0) {\r\n\t\t\t\t\t\t\t\t\t//等待司机接单中\r\n\t\t\t\t\t\t\t\t\tthat.hintIndex = 0;\r\n\t\t\t\t\t\t\t\t\tthat.hintIndex1 = 0;\r\n\r\n\t\t\t\t\t\t\t\t} else if (that.state == 1) {\r\n\t\t\t\t\t\t\t\t\t//司机已接单\r\n\t\t\t\t\t\t\t\t\tif (that.hintIndex1 == 0) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '已有司机接单',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tthat.hintIndex1 = 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (that.state == 2) {\r\n\t\t\t\t\t\t\t\t\t//司机已出发\r\n\t\t\t\t\t\t\t\t\t//state == 5\r\n\t\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t\t\tif (that.hintIndex == 0) {\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '司机已出发',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tthat.hintIndex = 1;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthat.setMarker('taxi', that.thisDriverLon, that.thisDriverLat, '../../static/CZC/Car.png');\r\n\t\t\t\t\t\t\t\t\tthat.getDirectionDriving(that.thisDriverLon + ',' + that.thisDriverLat, that.startLon + ',' + that.startLat);\r\n\t\t\t\t\t\t\t\t\tif (that.comingInterval == 0) {\r\n\t\t\t\t\t\t\t\t\t\tthat.openRealComing();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if (that.state == 3) {\r\n\t\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t\t\t//司机已到出发地\r\n\t\t\t\t\t\t\t\t} else if (that.state == 4) {\r\n\t\t\t\t\t\t\t\t\t//开启旅客定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.constantly();\r\n\t\t\t\t\t\t\t\t\t//订单执行中\r\n\t\t\t\t\t\t\t\t\t//state == 10\r\n\t\t\t\t\t\t\t\t\t//绘制司机标记点\r\n\t\t\t\t\t\t\t\t\tthat.setMarker('taxi', that.thisDriverLon, that.thisDriverLat, '../../static/CZC/Car.png');\r\n\t\t\t\t\t\t\t\t\t//清除司机到达出发地的路径规划定时器\r\n\t\t\t\t\t\t\t\t\tclearInterval(that.comingInterval);\r\n\t\t\t\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.lon = res.longitude;\r\n\t\t\t\t\t\t\t\t\t\t\tthat.lat = res.latitude;\r\n\t\t\t\t\t\t\t\t\t\t\tthat.getDirectionDriving(that.lon + ',' + that.lat, that.endLon + ',' + that.endLat);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (that.directionInterval == 0) {\r\n\t\t\t\t\t\t\t\t\t\t//开启到达目的地定时器。\r\n\t\t\t\t\t\t\t\t\t\tthat.openRealDirection();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// }else if (that.state == 5) {\r\n\t\t\t\t\t\t\t\t\t// \t//待支付\r\n\t\t\t\t\t\t\t\t\t// \t//state == 15\r\n\t\t\t\t\t\t\t\t\t// \t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\t\t// \tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t\t// \t//清除定时器\r\n\t\t\t\t\t\t\t\t\t// \tclearInterval(that.directionInterval);\r\n\t\t\t\t\t\t\t\t\t// \tthat.directionInterval = 0;\r\n\t\t\t\t\t\t\t\t\t// \tclearInterval(that.orderInterval);\r\n\t\t\t\t\t\t\t\t\t// \tthat.orderInterval = 0;\r\n\t\t\t\t\t\t\t\t\t// \tthat.polyline = [];\r\n\t\t\t\t\t\t\t\t\t// \tif (!that.isShow) {\r\n\t\t\t\t\t\t\t\t\t// \t\t// that.openBottomPopup();\r\n\t\t\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t\t\t// \tthat.isShow = true;\r\n\t\t\t\t\t\t\t\t\t// \tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t// \t\turl:\"./PaymentSuccess\"\r\n\t\t\t\t\t\t\t\t\t// \t})\r\n\t\t\t\t\t\t\t\t} else if (that.state == 6) {\r\n\t\t\t\t\t\t\t\t\t//支付完成\r\n\t\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t\tclearInterval(that.directionInterval);\r\n\t\t\t\t\t\t\t\t\tthat.directionInterval = 0;\r\n\t\t\t\t\t\t\t\t\tclearInterval(that.orderInterval);\r\n\t\t\t\t\t\t\t\t\tthat.orderInterval = 0;\r\n\t\t\t\t\t\t\t\t\tthat.polyline = [];\r\n\t\t\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\t\t\turl: \"./PaymentSuccess\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else if (that.state == 7) {\r\n\t\t\t\t\t\t\t\t\t//司机取消订单\r\n\t\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t} else if (that.state == 8) {\r\n\t\t\t\t\t\t\t\t\t//旅客取消订单\r\n\t\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '订单已取消',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\tuni.navigateBack({});\r\n\t\t\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t\t\t} else if (that.state == 9) {\r\n\t\t\t\t\t\t\t\t\t//支付失败\r\n\t\t\t\t\t\t\t\t\t//关闭旅客上传定位\r\n\t\t\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '网络连接失败',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}, 3000);\r\n\t\t\t},\r\n\r\n\t\t\t//--------等待司机到达\r\n\t\t\tcall: function() {\r\n\t\t\t\t//呼叫司机\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.makePhoneCall({\r\n\t\t\t\t\tphoneNumber: that.driverPhone\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcallPolice: function() {\r\n\t\t\t\t//一键报警\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif (that.userInfo.autograph != \"\") {\r\n\t\t\t\t\tthat.UrgentPhone = that.userInfo.autograph\r\n\t\t\t\t}\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"一键报警\",\r\n\t\t\t\t\tcontent: \"注意：恶意报警将承担相关法律责任\",\r\n\t\t\t\t\tconfirmText: \"报警\",\r\n\t\t\t\t\tconfirmColor: \"#E74246\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\t\t\tgeocode: true,\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\t\t\t//#ifdef MP-WEIXIN\r\n\t\t\t\t\t\t\t\t\tthat.getAddressByLocation(res)\r\n\t\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t\turl: $taxi.Interface.addPassengerOneTouchAlarm.value,\r\n\t\t\t\t\t\t\t\t\t\tmethod: $taxi.Interface.addPassengerOneTouchAlarm.method,\r\n\t\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\t\torderNumber: that.orderNumber,\r\n\t\t\t\t\t\t\t\t\t\t\tpassengerNumber: that.userInfo.userId,\r\n\t\t\t\t\t\t\t\t\t\t\tLon: res.longitude,\r\n\t\t\t\t\t\t\t\t\t\t\tLat: res.latitude,\r\n\t\t\t\t\t\t\t\t\t\t\tAddress: that.packAddress(res.address),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.makePhoneCall({ //拨打紧急联系人电话\r\n\t\t\t\t\t\t\t\t\t\t\t\tphoneNumber: that.UrgentPhone\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.makePhoneCall({ //拨打紧急联系人电话\r\n\t\t\t\t\t\t\t\t\t\t\t\tphoneNumber: that.UrgentPhone\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: \"网络连接失败\",\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetAddressByLocation: function(value) { //地址逆解析\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $taxi.Interface.getAddressByLocation.value,\r\n\t\t\t\t\tmethod: $taxi.Interface.getAddressByLocation.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tkey: $taxi.Interface.getAddressByLocation.key,\r\n\t\t\t\t\t\tlocation: value.longitude + ',' + value.latitude\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: $taxi.Interface.addPassengerOneTouchAlarm.value,\r\n\t\t\t\t\t\t\tmethod: $taxi.Interface.addPassengerOneTouchAlarm.method,\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\torderNumber: that.orderNumber,\r\n\t\t\t\t\t\t\t\tpassengerNumber: that.userInfo.userId,\r\n\t\t\t\t\t\t\t\tLon: value.longitude,\r\n\t\t\t\t\t\t\t\tLat: value.latitude,\r\n\t\t\t\t\t\t\t\tAddress: res.data.regeocode.formatted_address,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\tuni.makePhoneCall({ //拨打紧急联系人电话\r\n\t\t\t\t\t\t\t\t\tphoneNumber: that.UrgentPhone\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\tuni.makePhoneCall({ //拨打紧急联系人电话\r\n\t\t\t\t\t\t\t\t\tphoneNumber: that.UrgentPhone\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"网络连接失败\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tpackAddress: function(value) { //组装地址\r\n\t\t\t\tvar country = '';\r\n\t\t\t\tvar province = '';\r\n\t\t\t\tvar city = '';\r\n\t\t\t\tvar district = '';\r\n\t\t\t\tvar street = '';\r\n\t\t\t\tvar streetNum = '';\r\n\t\t\t\tvar poiName = '';\r\n\t\t\t\tif (value.country != \"undefined\") {\r\n\t\t\t\t\tcountry = value.country;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.province != \"undefined\") {\r\n\t\t\t\t\tprovince = value.province;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.city != \"undefined\") {\r\n\t\t\t\t\tcity = value.city;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.district != \"undefined\") {\r\n\t\t\t\t\tdistrict = value.district;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.street != \"undefined\") {\r\n\t\t\t\t\tstreet = value.street;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.streetNum != \"undefined\") {\r\n\t\t\t\t\tstreetNum = value.streetNum;\r\n\t\t\t\t}\r\n\t\t\t\tif (value.poiName != \"undefined\") {\r\n\t\t\t\t\tpoiName = value.poiName;\r\n\t\t\t\t}\r\n\t\t\t\treturn country + province + city + district + street + streetNum + poiName;\r\n\t\t\t},\r\n\t\t\tCheckPayState: function() { //检测支付状态\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar payPlatform = 3; //支付类型如：支付宝=2,App=3,公众号=4,小程序=5等\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tpayPlatform = 4;\r\n\t\t\t\t//  #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tpayPlatform = 5;\r\n\t\t\t\t//  #endif\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $privateTaxi.Interface.CheckPayState.value,\r\n\t\t\t\t\tmethod: $privateTaxi.Interface.CheckPayState.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpayType: payPlatform,\r\n\t\t\t\t\t\torderNumber: that.orderNumber\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\tthat.cancleOrder();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消失败',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络连接失败',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tBouncePay: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar payPlatform = 3; //支付类型如：支付宝=2,App=3,公众号=4,小程序=5等\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tpayPlatform = 4;\r\n\t\t\t\t//  #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tpayPlatform = 5;\r\n\t\t\t\t//  #endif\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: \"取消订单\",\r\n\t\t\t\t\tcontent: \"您是否取消订单\",\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\tmask: true,\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\turl: $privateTaxi.Interface.BouncePay.value,\r\n\t\t\t\t\t\t\t\tmethod: $privateTaxi.Interface.BouncePay.method,\r\n\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\tpayType: payPlatform,\r\n\t\t\t\t\t\t\t\t\torderNumber: that.orderNumber,\r\n\t\t\t\t\t\t\t\t\tprice: that.FactPayPrice\r\n\t\t\t\t\t\t\t\t\t// price: 0.01\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(11)\r\n\t\t\t\t\t\t\t\t\t\tthat.CheckPayState()\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: '取消失败',\r\n\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '网络连接失败',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcancleOrder: function() {\r\n\t\t\t\t//取消订单\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t//关闭所有的定时器\t\t\t\t\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $privateTaxi.Interface.CancelSpecialLineOrder_Passenger.value,\r\n\t\t\t\t\tmethod: $privateTaxi.Interface.CancelSpecialLineOrder_Passenger.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tOrderNumber: that.orderNumber,\r\n\t\t\t\t\t\tUserId: that.userInfo.userId,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tlet data = res.data.data;\r\n\t\t\t\t\t\tif (res.data.status) {\r\n\t\t\t\t\t\t\tclearInterval(that.directionInterval);\r\n\t\t\t\t\t\t\tthat.directionInterval = 0;\r\n\t\t\t\t\t\t\tclearInterval(that.orderInterval);\r\n\t\t\t\t\t\t\tthat.orderInterval = 0;\r\n\t\t\t\t\t\t\tgetApp().globalData.closeUpload();\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '取消成功',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tuni.navigateBack({});\r\n\t\t\t\t\t\t\t}, 1500)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: res.data.msg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '网络连接失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\t//--------前往终点\r\n\t\t\tproblem: function() {\r\n\t\t\t\t//费用疑问\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'problem'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t//------支付页面\r\n\t\t\tpayDetail: function() {\r\n\t\t\t\t//支付详情\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '../CZC/PriceDetail'\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tclose: function() {\r\n\t\t\t\t//关闭\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: '../order/OrderList'\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tpayment: function(e) {\r\n\t\t\t\t//支付\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tvar timeStamp = new Date().getTime();\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: e.detail.value.chooseType,\r\n\t\t\t\t\torderInfo: '111',\r\n\t\t\t\t\ttimeStamp: timeStamp,\r\n\t\t\t\t\tnonceStr: '',\r\n\t\t\t\t\tpackage: '',\r\n\t\t\t\t\tpaySign: '',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: './PaymentFail'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: './PaymentFail'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tchoosEcoupon: function() {\r\n\t\t\t\t//选择优惠券\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: 'choosEcoupon'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//-------------------------\r\n\t\t\tgetMyLocaton: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.getLocation({\r\n\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tthat.lon = res.longitude;\r\n\t\t\t\t\t\tthat.lat = res.latitude;\r\n\t\t\t\t\t\tif (that.longitude == \"\" && that.latitude == \"\") {\r\n\t\t\t\t\t\t\tthat.longitude = that.lon;\r\n\t\t\t\t\t\t\tthat.latitude = that.lat;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetMapCenter: function() {\r\n\t\t\t\t//设置地图中心点\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.longitude = that.lon;\r\n\t\t\t\tthat.latitude = that.lat;\r\n\t\t\t},\r\n\t\t\topenRealDirection: function() {\r\n\t\t\t\t//开启到达目的地时时路线规划，目前设置10秒一次。\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.directionInterval = setInterval(function() {\r\n\t\t\t\t\tuni.getLocation({\r\n\t\t\t\t\t\ttype: 'gcj02',\r\n\t\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t\tthat.lon = res.longitude;\r\n\t\t\t\t\t\t\tthat.lat = res.latitude;\r\n\t\t\t\t\t\t\tthat.getDirectionDriving(that.lon + ',' + that.lat, that.endLon + ',' + that.endLat);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 10000);\r\n\t\t\t},\r\n\t\t\topenRealComing: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.comingInterval = setInterval(function() {\r\n\t\t\t\t\tthat.getDirectionDriving(that.thisDriverLon + ',' + that.thisDriverLat, that.startLon + ',' + that.startLat);\r\n\t\t\t\t}, 10000);\r\n\t\t\t},\r\n\r\n\r\n\t\t\tgetDirectionDriving: function(startLonLat, endLonLat) {\r\n\t\t\t\t//调用高德api取得路径规划并绘制线路\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $taxi.InterfaceAddress[0],\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tstartLonLat: startLonLat,\r\n\t\t\t\t\t\tendLonLat: endLonLat,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t//日后会加入定时，此处需清空\r\n\t\t\t\t\t\tthat.points = [];\r\n\t\t\t\t\t\tthat.polyline = [];\r\n\t\t\t\t\t\tthat.distance = (res.data.Distance / 1000).toFixed(1);\r\n\t\t\t\t\t\tthat.duration = (res.data.Duration / 60).toFixed(0);\r\n\t\t\t\t\t\tvar polylineArr = [];\r\n\t\t\t\t\t\tvar points = [];\r\n\r\n\t\t\t\t\t\tpolylineArr = res.data.Polyline;\r\n\r\n\t\t\t\t\t\tfor (var i = 0; i < polylineArr.length; i++) {\r\n\t\t\t\t\t\t\tvar arr = polylineArr[i].split(';');\r\n\t\t\t\t\t\t\tfor (var j = 0; j < arr.length; j++) {\r\n\t\t\t\t\t\t\t\tpoints.push(arr[j]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//根据文件建设对象经纬度数组\r\n\t\t\t\t\t\tfor (var i = 0; i < points.length; i++) {\r\n\t\t\t\t\t\t\tvar arr = points[i].split(',');\r\n\t\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\t\tlongitude: arr[0],\r\n\t\t\t\t\t\t\t\tlatitude: arr[1]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthat.points.push(obj);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar obj = {\r\n\t\t\t\t\t\t\tpoints: that.points,\r\n\t\t\t\t\t\t\tcolor: \"#4bdc27\",\r\n\t\t\t\t\t\t\tarrowLine: true,\r\n\t\t\t\t\t\t\twidth: 6\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tthat.polyline.push(obj);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetMarker: function(id, lon, lat, iconPath) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tvar width = 20;\r\n\t\t\t\tvar height = 20;\r\n\t\t\t\tif (id == 'taxi') {\r\n\t\t\t\t\twidth = 40;\r\n\t\t\t\t\theight = 40;\r\n\t\t\t\t\tthat.markers = that.markers.filter(res => res.id == 'start' || res.id == 'end');\r\n\t\t\t\t} else if (id.indexOf('car') > -1) {\r\n\t\t\t\t\twidth = 40;\r\n\t\t\t\t\theight = 40;\r\n\t\t\t\t\tthat.markers = that.markers.filter(function(res) {\r\n\t\t\t\t\t\treturn res.id != id;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t//描绘点的方法\r\n\t\t\t\tvar marker = new Object();\r\n\t\t\t\tmarker = {\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tlatitude: lat,\r\n\t\t\t\t\tlongitude: lon,\r\n\t\t\t\t\ticonPath: iconPath,\r\n\t\t\t\t\twidth: width,\r\n\t\t\t\t\theight: height,\r\n\t\t\t\t};\r\n\t\t\t\tvar json = JSON.stringify(that.markers);\r\n\t\t\t\tvar arr = JSON.parse(json);\r\n\t\t\t\tarr.push(marker);\r\n\t\t\t\tthat.markers = arr;\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.map {\r\n\t\twidth: 750rpx;\r\n\t}\r\n\r\n\t.waitContent {\r\n\t\twidth: 700rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 9px;\r\n\t\talign-items: center;\r\n\t\tpadding-top: 50rpx;\r\n\t\tpadding-left: 50rpx;\r\n\t\tpadding-bottom: 50rpx;\r\n\t\tpadding-right: 50rpx;\r\n\t}\r\n\r\n\t.comeTopContent {\r\n\t\twidth: 700rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding: 30rpx;\r\n\t\tborder-radius: 9px;\r\n\t\tbox-shadow: 0px 6px 20px 0px rgba(231, 231, 231, 0.53);\r\n\t}\r\n\r\n\t.comeBottomContent {\r\n\t\twidth: 600rpx;\r\n\t\tpadding-top: 30rpx;\r\n\t\tpadding-bottom: 30rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tborder-radius: 9px;\r\n\t\tflex-direction: row;\r\n\t\tbox-shadow: 0px 6px 20px 0px rgba(231, 231, 231, 0.53);\r\n\t}\r\n\r\n\t.orderBottomContent {\r\n\t\twidth: 700rpx;\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding-top: 30rpx;\r\n\t\tpadding-left: 30rpx;\r\n\t\tpadding-right: 30rpx;\r\n\t\tborder-radius: 9px;\r\n\t\t/* box-shadow: 0px 6px 20px 0px rgba(231, 231, 231, 0.53); */\r\n\t}\r\n\r\n\t.orderTitleFont {\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: rgba(44, 45, 45, 1);\r\n\t}\r\n\r\n\t.backImage {\r\n\t\twidth: 120rpx;\r\n\t\theight: 120rpx;\r\n\t\tposition: fixed;\r\n\t\ttop: 50px;\r\n\t\tleft: 10px;\r\n\t}\r\n\r\n\t.isWaitText {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #2C2D2D;\r\n\t}\r\n\r\n\t.driverNameText {\r\n\t\tfont-size: 34rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #2C2D2D;\r\n\t}\r\n\r\n\t.fontClass-30 {\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #2C2D2D;\r\n\t}\r\n\r\n\t.fontClass-28 {\r\n\t\tfont-size: 32rpx;\r\n\t\tline-height: 50rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #2C2D2D;\r\n\t}\r\n\r\n\t.callPolice {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #FC4646;\r\n\t}\r\n\r\n\t.cancle {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Source Han Sans SC;\r\n\t\tfont-weight: 300;\r\n\t\tcolor: #2C2D2D;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594278251922\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=style&index=1&lang=css&\"; export default mod; export * from \"-!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./WaitTakeOrder.nvue?vue&type=style&index=1&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594278250894\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
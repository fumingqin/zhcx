{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?4d98","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?5e8a","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?5ba9","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?3767","uni-app:///pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?106f","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue?8d48"],"names":["createPage","Page"],"mappings":"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","file":"pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./specialBusOrderPayment.vue?vue&type=template&id=acf031a4&\"\nvar renderjs\nimport script from \"./specialBusOrderPayment.vue?vue&type=script&lang=js&\"\nexport * from \"./specialBusOrderPayment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/specialBusOrderPayment/specialBusOrderPayment.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=template&id=acf031a4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.turnDate(_vm.ticketInfo.date)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 订单支付页面 -->\r\n\t<view>\r\n\t\t<!-- <view style=\"color: #000000; font-size: 26upx; position: absolute; right: 32upx; z-index: 1; top: 24upx;\">倒计时：{{countDownDate}}秒</view> -->\r\n\t\t<view class=\"cover-container\">\r\n\t\t\t<view class=\"MP_information1\">\r\n\t\t\t\t<view class=\"MP_title\">{{ticketInfo.pickerStartStation}} - {{ticketInfo.pickerEndStation}}</view>\r\n\t\t\t\t<text class=\"MP_text\">费用包含：车票</text>\r\n\r\n\t\t\t\t<view class=\"MP_selectionDate\">\r\n\t\t\t\t\t<view class=\"MP_title\">使用时间</view>\r\n\t\t\t\t\t<text class=\"MP_text\">{{turnDate(ticketInfo.date)}} &nbsp; 仅限当天</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"MP_selectionDate\" :hidden=\"hiddenValues==0\">\r\n\t\t\t\t\t<view class=\"MP_title\">购票人信息</view>\r\n\t\t\t\t\t<view class=\"MP_userInformation\" v-for=\"(item,index) in passengerInfo\" :key=\"index\">\r\n\t\t\t\t\t\t<text>{{item.userName}}</text>\r\n\t\t\t\t\t\t<text class=\"Mp_sex\">{{item.userSex}}</text>\r\n\t\t\t\t\t\t<text class=\"Mp_square\">{{item.userType}}</text>\r\n\t\t\t\t\t\t<text class=\"Mp_square\" v-if=\"item.userDefault == true\">本人</text>\r\n\t\t\t\t\t\t<text class=\"Mp_square\" v-if=\"item.userEmergencyContact == true\">紧急联系人</text>\r\n\t\t\t\t\t\t<text class=\"Mp_text\">身份证：{{item.userCodeNum}}</text>\r\n\t\t\t\t\t\t<text class=\"Mp_text\">手机号：{{item.userPhoneNum}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"MP_selectionDate\" :hidden=\"hiddenValues==0\">\r\n\t\t\t\t\t<view class=\"MP_title\">费用详情</view>\r\n\t\t\t\t\t<view class=\"MP_cost\" v-if=\"adultNum>=1\">\r\n\t\t\t\t\t\t<text>成人票</text>\r\n\t\t\t\t\t\t<text class=\"MP_number\">×{{adultNum}}</text>\r\n\t\t\t\t\t\t<text class=\"MP_userCost\">¥{{ticketInfo.oneTicketPrice}}</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"MP_cost\" v-if=\"childrenNum>=1\">\r\n\t\t\t\t\t\t<text>儿童票</text>\r\n\t\t\t\t\t\t<text class=\"MP_number\">×{{childrenNum}}</text>\r\n\t\t\t\t\t\t<text class=\"MP_userCost\">¥{{ticketInfo.halfTicket}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"MP_cost\" v-if=\"freeTicketNum>=1\">\r\n\t\t\t\t\t\t<text>携带免童票</text>\r\n\t\t\t\t\t\t<text class=\"MP_number\">×{{freeTicketNum}}</text>\r\n\t\t\t\t\t\t<text class=\"MP_userCost\">¥{{orderInfo.halfTicket}}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- 保险 -->\r\n\t\t\t\t\t<view class=\"MP_cost\" v-if=\"isInsurance == 1 \">\r\n\t\t\t\t\t\t<text>保险</text>\r\n\t\t\t\t\t\t<text class=\"MP_number\">×{{ticketNum}}</text>\r\n\t\t\t\t\t\t<text class=\"MP_total\">¥{{ticketInfo.oneTicketPrice}}</text>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 优惠券 -->\r\n\t\t\t\t\t<!-- <view class=\"MP_cost\" v-if=\"orderInfo[0].couponPrice>0\" v-if=\"false\">\r\n\t\t\t\t\t\t<text>{{orderInfo[0].couponTitle}}</text>\r\n\t\t\t\t\t\t<text class=\"MP_number\">×1</text>\r\n\t\t\t\t\t\t<text class=\"MP_total\">-&nbsp;¥{{orderInfo[0].couponPrice}}</text>\r\n\t\t\t\t\t</view> -->\r\n\r\n\t\t\t\t\t<!-- <view class=\"MP_cost\">\r\n\t\t\t\t\t\t<text class=\"MP_total\">共计&nbsp;¥{{orderInfo[0].orderActualPayment}}</text>\r\n\t\t\t\t\t</view> -->\r\n\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"jdticon icon-xia\" style=\"padding: 24upx 0upx; text-align: center; margin-top: 64upx;\" @click=\"hide(0)\"\r\n\t\t\t\t :hidden=\"hiddenValues==1\"></view>\r\n\t\t\t\t<view class=\"jdticon icon-shang\" style=\"padding: 24upx 0upx; text-align: center; margin-top: 64upx;\" @click=\"hide(1)\"\r\n\t\t\t\t :hidden=\"hiddenValues==0\"></view>\r\n\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"MP_information2\">\r\n\t\t\t\t<view class=\"MP_optionBar\">\r\n\t\t\t\t\t<text class=\"Mp-icon jdticon icon-weixinzhifu\"></text>\r\n\t\t\t\t\t<text class=\"Mp_title\">微信</text>\r\n\t\t\t\t\t<radio class=\"Mp_box\" :checked=\"channeIndex===0\" :color=\"'#36cb59'\" @click=\"Selection\"></radio>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"MP_information2\" v-if=\"false\">\r\n\t\t\t\t<view class=\"MP_optionBar\">\r\n\t\t\t\t\t<text class=\"Mp-icon jdticon icon-alipay\"></text>\r\n\t\t\t\t\t<text class=\"Mp_title\">支付宝</text>\r\n\t\t\t\t\t<radio class=\"Mp_box\" :checked=\"channeIndex===1\" :color=\"'#01aaef'\" @click=\"Selection\"></radio>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"MP_information3\" @click=\"payment\">支付{{ticketInfo.totalPrice}}元\r\n\t\t\t</view>\r\n\r\n\t\t</view>\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $KyInterface from \"@/common/Ctky.js\"\r\n\timport utils from \"@/pages_CTKY/components/CTKY/shoyu-date/utils.filter.js\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcountDownDate: 120, //倒计时时间\r\n\t\t\t\tutils: utils,\r\n\t\t\t\tuserInfo: [], //用户信息\r\n\t\t\t\thiddenValues: '0', //隐藏状态值\r\n\t\t\t\tchannel: [{\r\n\t\t\t\t\tname: '微信'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tname: '支付宝'\r\n\t\t\t\t}],\r\n\t\t\t\tinsurance: '', //保险\r\n\t\t\t\tisInsurance: '', //是否有保险\r\n\t\t\t\tchanneIndex: 0, //选择支付方式\r\n\t\t\t\torderInfo: [], //订单数据\r\n\t\t\t\tpassengerInfo: [], //乘车人信息\r\n\t\t\t\tidNameTypeStr: '', //乘车人信息字符串（发送请求需要）（小叶接口）\r\n\t\t\t\tticketNum: 0, //总票数\r\n\t\t\t\tadultNum: 0, //成人数量\r\n\t\t\t\tfreeTicketNum: 0,//免童\r\n\t\t\t\tchildrenNum: 0, //儿童数量\t\r\n\t\t\t\tadultTotalPrice: '', //成人总价\r\n\t\t\t\tchildrenTotalPrice: '', //儿童总价\r\n\t\t\t\ttotalPrice: 0, //总价格\r\n\t\t\t\tpaymentData: [], //保存支付参数\r\n\t\t\t\ttimer: '', //定时器数据\r\n\t\t\t\tisPayEnable: false, //当前是否可以点击支付\r\n\t\t\t\torderNum: '', //订单编号\r\n\t\t\t\tticketInfo: [],\r\n\t\t\t\tspecialStartStation: '', //定制班车上车点\r\n\t\t\t\tspecialEndStation: '', //定制班车下车点\r\n\t\t\t\ttickettype: '', //班车类型\r\n\t\t\t\tctkyOpenID: '',\r\n\t\t\t\tpassengerNames:[],//乘客姓名数组\r\n\t\t\t\tpassengerIDs:[],//乘客身份证数组\r\n\t\t\t\tweixinOpenId:'',\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad: function(param) {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.ticketInfo = JSON.parse(param.array);\r\n\t\t\t//定制巴士上车点\r\n\t\t\tthat.specialStartStation = that.ticketInfo.pickerStartStation;\r\n\t\t\t//定制巴士下车点\r\n\t\t\tthat.specialEndStation = that.ticketInfo.pickerEndStation;\r\n\r\n\t\t\tuni.showLoading({\r\n\t\t\t    title: '加载中...'\r\n\t\t\t});\r\n\t\t\t//读取用户信息\r\n\t\t\tthis.getUserInfo();\r\n\t\t\t//读取乘车人信息\r\n\t\t\tthis.getPassengerInfo();\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\tclearInterval(this.timer);\r\n\t\t},\r\n\t\t//--------------------------监听页面返回--------------------------\r\n\t\tonBackPress(options) {\r\n\t\t\tvar that = this;\r\n\t\t\t// console.log('from:' + options.from);\r\n\t\t\tclearInterval(that.timer);\r\n\t\t\tif (options.from == 'backbutton') {\r\n\t\t\t\tconsole.log('that.timer', that.timer);\r\n\t\t\t\tif (that.timer) {\r\n\t\t\t\t\tclearInterval(that.timer);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//--------------------------读取用户信息--------------------------\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//读取用户ID\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'userInfo',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tthat.userInfo = data.data;\r\n\t\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\t\tthat.weixinOpenId = data.data.openId_xcx;\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//-------------------------------时间转换-------------------------------\r\n\t\t\tturnDate(date) {\r\n\t\t\t\tif (date) {\r\n\t\t\t\t\tvar setTime = date.replace('T', ' ');\r\n\t\t\t\t\treturn setTime;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//--------------------------读取乘车人信息--------------------------\r\n\t\t\tgetPassengerInfo() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t//读取乘车人信息\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'passengerList',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\tthat.passengerInfo = data.data;\r\n\t\t\t\t\t\tif (that.passengerInfo.length > 0) {\r\n\t\t\t\t\t\t\tfor (let i = 0; i < that.passengerInfo.length; i++) {\r\n\t\t\t\t\t\t\t\tvar type = '';\r\n\t\t\t\t\t\t\t\tif (data.data[i].userType == '半票儿童') {\r\n\t\t\t\t\t\t\t\t\ttype = 0;\r\n\t\t\t\t\t\t\t\t} else if (data.data[i].userType == '成人') {\r\n\t\t\t\t\t\t\t\t\ttype = 2;\r\n\t\t\t\t\t\t\t\t}else if (data.data[i].userType == '免票儿童') {\r\n\t\t\t\t\t\t\t\t\ttype = 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t//拼接id name type\r\n\t\t\t\t\t\t\t\t// that.idNameTypeStr += data.data[i].userCodeNum + ',' + data.data[i].userName + ',' + type + '|';\r\n\t\t\t\t\t\t\t\tthat.passengerNames.push(data.data[i].userName)\r\n\t\t\t\t\t\t\t\tthat.passengerIDs.push(data.data[i].userCodeNum)\r\n\t\t\t\t\t\t\t\tthat.ticketNum++;\r\n\t\t\t\t\t\t\t\t//把儿童票筛选出来\r\n\t\t\t\t\t\t\t\tif (that.passengerInfo[i].userType == '半票儿童') {\r\n\t\t\t\t\t\t\t\t\tthat.childrenNum++;\r\n\t\t\t\t\t\t\t\t} else if (that.passengerInfo[i].userType == '成人'){\r\n\t\t\t\t\t\t\t\t\tthat.adultNum++;\r\n\t\t\t\t\t\t\t\t}else if(that.passengerInfo[i].userType == '免票儿童'){\r\n\t\t\t\t\t\t\t\t\tthat.freeTicketNum++;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t//把最后面的'｜'去掉\r\n\t\t\t\t\t\t\t// that.idNameTypeStr = that.idNameTypeStr.substring(0, that.idNameTypeStr.length - 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t//-------------------------------读取用户openID-------------------------------\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// #ifdef H5\r\n\t\t\t\t\t\tthat.getOpenID();\r\n\t\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t\t//-------------------------------下单-------------------------------\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// #ifdef APP-PLUS || MP-WEIXIN\r\n\t\t\t\t\t\tthat.getOrder();\r\n\t\t\t\t\t\t// #endif\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail() {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '获取信息失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//--------------------------读取公众号openid--------------------------\r\n\t\t\tgetOpenID() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'scenicSpotOpenId',\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t// alert('获取id成功');\r\n\t\t\t\t\t\tthat.ctkyOpenID = response.data\r\n\t\t\t\t\t\t//等待读取用户缓存成功之后再请求接口数据\r\n\t\t\t\t\t\tthat.getOrder();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(fail) {\r\n\t\t\t\t\t\tthat.ctkyOpenID = response.data\r\n\t\t\t\t\t\tthat.getOrder();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//--------------------------隐藏操作--------------------------\r\n\t\t\thide(e) {\r\n\t\t\t\tif (e == 0) {\r\n\t\t\t\t\tthis.hiddenValues = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.hiddenValues = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//--------------------------同意购买-点击事件--------------------------\r\n\t\t\tSelection: function() {\r\n\t\t\t\tif (this.channeIndex == 0) {\r\n\t\t\t\t\tthis.channeIndex = 1;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.channeIndex = 0;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//--------------------------数组提取--------------------------\r\n\t\t\tscreenUser: function() {\r\n\t\t\t\tlet adult = this.orderInfo.filter(item => {\r\n\t\t\t\t\treturn item.userType == '成人';\r\n\t\t\t\t})\r\n\t\t\t\tlet children = this.orderInfo.filter(item => {\r\n\t\t\t\t\treturn item.userType == '儿童';\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.adultIndex = adult.length;\r\n\t\t\t\tthis.childrenIndex = children.length;\r\n\t\t\t\tthis.adultTotalPrice = adult.length * this.orderInfo[0].ticketAdultPrice;\r\n\t\t\t\tthis.childrenTotalPrice = children.length * this.orderInfo[0].ticketChildPrice;\r\n\t\t\t},\r\n\t\t\t//--------------------------下单--------------------------\r\n\t\t\tgetOrder: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tvar setTime = that.ticketInfo.date.replace('T', ' ');\r\n\t\t\t\tvar companyCode = '';\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tcompanyCode = $KyInterface.KyInterface.systemName.systemNameH5;\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tcompanyCode = $KyInterface.KyInterface.systemName.systemNameApp;\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tcompanyCode = $KyInterface.KyInterface.systemName.systemNameWeiXin;\r\n\t\t\t\t// #endif\r\n\t\t\t\tvar childNum = Number(that.childrenNum) + Number(that.freeTicketNum)\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(companyCode,that.ticketInfo.priceAID,that.userInfo.phoneNumber,that.adultNum,childNum,that.passengerIDs,that.passengerNames,that.userInfo.userId)\r\n\t\t\t\t//--------------------------发起下单请求-----------------------\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:$KyInterface.KyInterface.Cs_BookingTicket.Url,\r\n\t\t\t\t\tmethod:$KyInterface.KyInterface.Cs_BookingTicket.method,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsellerCompanyCode: companyCode,//公司代码\r\n\t\t\t\t\t\tpriceAID:that.ticketInfo.priceAID,//价格id\r\n\t\t\t\t\t\tphoneNumber:that.userInfo.phoneNumber,//手机号码\r\n\t\t\t\t\t\tfullTicket:that.adultNum, //全票人数\r\n\t\t\t\t\t\tchildren:childNum, //携童人数\r\n\t\t\t\t\t\tpassengerIDs:that.passengerIDs,\r\n\t\t\t\t\t\tpassengerNames:that.passengerNames,\r\n\t\t\t\t\t\tTPPID:'',//传空\r\n\t\t\t\t\t\tUserAID:that.userInfo.userId,//用户ID\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('下单返回数据',res);\r\n\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\tif (res.data.Successed == true) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: res.data.BookResult.Message,\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthat.orderNum = res.data.BookResult.BookLogAID;\r\n\t\t\t\t\t\t\t\tthat.getTicketPaymentInfo(res.data.BookResult.BookLogAID);\r\n\t\t\t\t\t\t\t} else if (res.data.Successed == false) {\r\n\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent: res.data.msg,\r\n\t\t\t\t\t\t\t\t\tshowCancel:false,\r\n\t\t\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t\t\t} \r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log('失败', res);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//--------------------------获取车票支付参数--------------------------\r\n\t\t\tgetTicketPaymentInfo: function(res) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar payType = $KyInterface.KyInterface.payType.payType;\r\n\t\t\t\tvar timer = null;\r\n\t\t\t\tthat.timer = timer;\r\n\t\t\t\tconsole.log(res)\r\n\t\t\t\t\r\n\t\t\t\tvar openId = '';\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\topenId = that.weixinOpenId;\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\topenId = that.ctkyOpenID;\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle:'正在获取支付...'\r\n\t\t\t\t})\r\n\t\t\t\ttimer = setInterval(function() {\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl:$KyInterface.KyInterface.commonPayment.Url,\r\n\t\t\t\t\t\tmethod:$KyInterface.KyInterface.commonPayment.method,\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t//订单编号\r\n\t\t\t\t\t\t\torderNumber: res,\r\n\t\t\t\t\t\t\tpayType:payType,\r\n\t\t\t\t\t\t\topenId:openId,\r\n\t\t\t\t\t\t\tbillDescript:'定制巴士订单服务费',\r\n\t\t\t\t\t\t\tgoodsName:'定制巴士服务',\r\n\t\t\t\t\t\t\tprice:that.ticketInfo.totalPrice,\r\n\t\t\t\t\t\t\t// price:0.01,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\tconsole.log(res.data);\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tif(res.data.status == true) {\r\n\t\t\t\t\t\t\t\tthat.paymentData = res.data.data;\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t\tuni.showModal({\r\n\t\t\t\t\t\t\t\t\tcontent:'请尽快支付',\r\n\t\t\t\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\t\t\t\tif(res.confirm) {\r\n\t\t\t\t\t\t\t\t\t\t\tthat.payment();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else if(res.data.status == false) {\r\n\t\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\tconsole.log('失败');\r\n\t\t\t\t\t\t\t//回调失败，取消定时器\r\n\t\t\t\t\t\t\tclearInterval(timer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}, 3000)\r\n\t\t\t},\r\n\t\t\t//--------------------------调起支付--------------------------\r\n\t\t\tpayment: function() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tWeixinJSBridge.invoke('getBrandWCPayRequest', {\r\n\t\t\t\t\t\"appId\": that.paymentData.appId, //公众号名称，由商户传入\r\n\t\t\t\t\t\"timeStamp\": that.paymentData.timeStamp, //时间戳\r\n\t\t\t\t\t\"nonceStr\": that.paymentData.nonceStr, //随机串\r\n\t\t\t\t\t\"package\": that.paymentData.package, //扩展包\r\n\t\t\t\t\t\"signType\": that.paymentData.signType, //微信签名方式:MD5\r\n\t\t\t\t\t\"paySign\": that.paymentData.paySign //微信签名\r\n\t\t\t\t}, function(res) {\r\n\t\t\t\t\tif (res.err_msg == \"get_brand_wcpay_request:ok\") {\r\n\t\t\t\t\t\talert(\"支付成功\");\r\n\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t    title: '加载中...'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthat.Cs_paySuccess(that.orderNum);\r\n\t\t\t\t\t} else if (res.err_msg == \"get_brand_wcpay_request:cancel\") {\r\n\t\t\t\t\t\t// alert(\"您取消了支付，请重新支付\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '您取消了支付，请重新支付',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (res.err_msg == \"get_brand_wcpay_request:faile\") {\r\n\t\t\t\t\t\t// alert(\"支付失败，请重新支付\");\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付失败，请重新支付',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// location.href = \"/Coach/GetCoach\";\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\r\n\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\tprovider: 'wxpay',\r\n\t\t\t\t\torderInfo: {\r\n\t\t\t\t\t\tappid: that.paymentData.appId,\r\n\t\t\t\t\t\ttimestamp: that.paymentData.timeStamp,\r\n\t\t\t\t\t\tnoncestr: that.paymentData.nonceStr,\r\n\t\t\t\t\t\tpackage: 'Sign=WXPay',\r\n\t\t\t\t\t\tsign: that.paymentData.signType,\r\n\t\t\t\t\t\tpartnerid: that.paymentData.partnerId,\r\n\t\t\t\t\t\tprepayid: that.paymentData.prepayId,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tif (res.errMsg == 'requestPayment:ok') { //成功\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\tcomplete() {\r\n\t\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\t    title: '加载中...'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthat.Cs_paySuccess(that.orderNum);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.errMsg == 'requestPayment:fail errors') { //错误\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付失败，请重新支付',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.errMsg == 'requestPayment:fail canceled') { //用户取消\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '您取消了支付',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(ee) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '拉起支付失败，请检查网络后重试',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t\t\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\tuni.hideLoading()\r\n\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t// provider: 'wxpay',\r\n\t\t\t\t\ttimeStamp:that.paymentData.timeStamp,\r\n\t\t\t\t\tnonceStr:that.paymentData.nonceStr,\r\n\t\t\t\t\tpackage:that.paymentData.package,\r\n\t\t\t\t\tsignType:that.paymentData.signType,\r\n\t\t\t\t\tpaySign:that.paymentData.paySign,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.errMsg == \"requestPayment:ok\") {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t    title: '加载中...'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.Cs_paySuccess(that.orderNum);\r\n\t\t\t\t\t\t}else if (res.errMsg == \"requestPayment:fail cancel\") {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.showToast(\"您取消了支付，请重新支付\")\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}else if (res.errMsg == \"requestPayment:fail errors\") {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.showToast(\"支付失败，请重新支付\")\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.errMsg == \"requestPayment:fail cancel\") {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.showToast(\"您取消了支付，请重新支付\")\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}else if (res.errMsg == \"requestPayment:fail errors\") {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tthat.showToast(\"支付失败，请重新支付\")\r\n\t\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tthat.showToast(\"支付出错\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\tshowToast: function(msg, icon = 'none') {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: msg,\r\n\t\t\t\t\ticon: icon\r\n\t\t\t\t})\r\n\t\t\t},\t\t\r\n\t\t\t//--------------------------定制巴士支付成功后请求--------------------------\r\n\t\t\tCs_paySuccess:function(bookID){\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在检索，请稍后...'\r\n\t\t\t\t});\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:$KyInterface.KyInterface.Cs_Confirm.Url,\r\n\t\t\t\t\tmethod:$KyInterface.KyInterface.Cs_Confirm.method,\r\n\t\t\t\t\theader:$KyInterface.KyInterface.Cs_Confirm.header,\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tbookID:bookID\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log('支付成功后调接口',res)\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tif(res.data.BookResult.Successed == true){\r\n\t\t\t\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\t\t\t\turl:'../../TraditionSpecial/PayMent/CTKYPaySuccess'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tconsole.log('支付失败后调接口',res)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage {\r\n\t\tbackground: #F5F5F5;\r\n\t\tpadding-bottom: 40upx;\r\n\t}\r\n\r\n\t//背景图样式\r\n\t.ob_background {\r\n\t\tposition: absolute;\r\n\t\twidth: 100%;\r\n\t\theight: 320upx;\r\n\r\n\t\timage {\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 100%;\r\n\t\t}\r\n\t}\r\n\r\n\t//整体容器样式\r\n\t.cover-container {\r\n\t\tposition: relative;\r\n\t\ttop: 30upx;\r\n\t\tpadding: 32upx 30upx;\r\n\t}\r\n\r\n\t//公共样式 - 适用多个数据框\r\n\t.MP_information1 {\r\n\t\tborder-radius: 16upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 44upx 32upx;\r\n\t\tpadding-bottom: 24upx;\r\n\t\tfont-size: 32upx;\r\n\t\tbox-shadow: 0px 0.2px 0px #aaa;\r\n\r\n\t\t.MP_title {\r\n\t\t\tfont-size: 34upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-weight: bold;\r\n\t\t\t// margin-top: 20upx;\r\n\t\t}\r\n\r\n\t\t.MP_text {\r\n\t\t\tcolor: #888;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\tdisplay: block; // 让字体换行\r\n\t\t}\r\n\t}\r\n\r\n\t//公共样式2 - 适用单选框\r\n\t.MP_information2 {\r\n\t\tborder-radius: 16upx;\r\n\t\tbackground: #FFFFFF;\r\n\t\tpadding: 36upx 32upx;\r\n\t\tfont-size: 32upx;\r\n\t\tbox-shadow: 0px 0.2px 0px #aaa;\r\n\t\tmargin-top: 24upx;\r\n\r\n\t\t.kj {\r\n\t\t\tfont-size: 34upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tmargin-top: 8upx;\r\n\t\t}\r\n\r\n\t\t.MP_text {\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tmargin-top: 20upx;\r\n\t\t\tdisplay: block; // 让字体换行\r\n\t\t}\r\n\r\n\t\t//选项框样式\r\n\t\t.MP_optionBar {\r\n\t\t\t.Mp_title {\r\n\t\t\t\tfont-size: 32upx;\r\n\t\t\t\tmargin-left: 20upx;\r\n\t\t\t}\r\n\r\n\t\t\t.Mp_text {\r\n\t\t\t\tmargin-top: 6upx;\r\n\t\t\t\tfloat: right;\r\n\t\t\t\tfont-size: 28upx;\r\n\t\t\t\tcolor: #f85e52;\r\n\t\t\t}\r\n\r\n\t\t\t.Mp_textBlue {\r\n\t\t\t\tmargin-left: 16upx;\r\n\t\t\t\tfont-size: 26upx;\r\n\t\t\t\tcolor: #3EABFC;\r\n\t\t\t}\r\n\r\n\t\t\t.Mp_box {\r\n\t\t\t\tfloat: right;\r\n\t\t\t\tposition: relative;\r\n\t\t\t\tbottom: 6upx;\r\n\t\t\t\tright: -12upx;\r\n\t\t\t}\r\n\r\n\t\t\t.Mp_icon {\r\n\t\t\t\twidth: 100upx;\r\n\t\t\t\tfont-size: 52upx;\r\n\t\t\t}\r\n\r\n\t\t\t.icon-weixinzhifu {\r\n\t\t\t\tcolor: #36cb59;\r\n\t\t\t}\r\n\r\n\t\t\t.icon-alipay {\r\n\t\t\t\tcolor: #01aaef;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t//公共样式3 - 适用按钮\r\n\t.MP_information3 {\r\n\t\tpadding: 24upx 0;\r\n\t\tborder-radius: 64upx;\r\n\t\tbackground: #FF6600;\r\n\t\ttext-align: center;\r\n\t\tcolor: #FFFFFF;\r\n\t\tfont-size: 38upx;\r\n\t\tfont-weight: 400;\r\n\t\tbox-shadow: 0px 0.2px 0px #aaa;\r\n\t\tmargin-top: 80upx;\r\n\t}\r\n\r\n\t//使用时间/费用详情\r\n\t.MP_selectionDate {\r\n\t\tmargin-top: 24upx;\r\n\t\tmargin-bottom: 24upx;\r\n\t\tborder-top: 1px #F5F5F5 dashed;\r\n\r\n\t\t.MP_title {\r\n\t\t\tmargin-top: 24upx;\r\n\t\t\tfont-size: 34upx;\r\n\t\t\tdisplay: flex;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\r\n\t\t.MP_text {\r\n\t\t\tcolor: #888;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tdisplay: block; // 让字体换行\r\n\t\t}\r\n\r\n\t\t.MP_cost {\r\n\t\t\tdisplay: block; // 让字体换行\r\n\t\t\tmargin: 20upx 0;\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tcolor: #888;\r\n\r\n\t\t\t.MP_number {\r\n\t\t\t\tmargin-left: 16upx;\r\n\t\t\t}\r\n\r\n\t\t\t.MP_userCost {\r\n\t\t\t\tfloat: right;\r\n\t\t\t}\r\n\r\n\t\t\t.MP_total {\r\n\t\t\t\tcolor: #f85e52;\r\n\t\t\t\tfloat: right;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 出行人信息\r\n\t.MP_userInformation {\r\n\t\tmargin-top: 32upx;\r\n\r\n\t\t.Mp_sex {\r\n\t\t\tmargin-left: 24upx;\r\n\t\t}\r\n\r\n\t\t.Mp_text {\r\n\t\t\tfont-size: 28upx;\r\n\t\t\tdisplay: block;\r\n\t\t\tcolor: #888;\r\n\t\t\tmargin-top: 20upx;\r\n\t\t}\r\n\r\n\t\t.Mp_square {\r\n\t\t\tmargin-left: 24upx;\r\n\t\t\tpadding: 2upx 20upx;\r\n\t\t\tbackground: #3DABFC;\r\n\t\t\tfont-size: 26upx;\r\n\t\t\tcolor: #fff;\r\n\t\t\ttext-align: center;\r\n\t\t\tborder-radius: 8upx;\r\n\t\t}\r\n\r\n\t\t.Mp_delete {\r\n\t\t\tfloat: right;\r\n\t\t\tcolor: #f85e52;\r\n\t\t\tfont-size: 34upx;\r\n\t\t}\r\n\r\n\t\t.Mp_addTo {\r\n\t\t\tfloat: left;\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tmargin-left: 64upx;\r\n\t\t\twidth: 200upx;\r\n\t\t}\r\n\r\n\t\t.Mp_Selection {\r\n\t\t\tfont-size: 30upx;\r\n\t\t\tmargin-right: 64upx;\r\n\t\t\twidth: 200upx;\r\n\t\t}\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusOrderPayment.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594278265866\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?a1a9","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?9f6d","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?8915","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?8225","uni-app:///pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?37dd","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue?30b0"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,8I;AACAA,UAAU,CAACC,sBAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0H;AAC1H;AACiE;AACL;AACc;;;AAG1E;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,mFAAM;AACR,EAAE,wFAAM;AACR,EAAE,iGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,4FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAosB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2ExtB;;AAEA,kI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+ZACA,EACA,cACA,0BADA,EADA,EAIA,IAJA,kBAIA,CACA,SACA,2BADA,EAEA,aAFA,EAEA;AACA,qBAHA,EAGA;AACA,cAJA,EAIA;AACA,uBALA,EAMA,iBANA,EAOA,SAPA,EAQA,gBARA,EAQA;AACA,oBATA,EASA;AACA,uBAVA,EAUA;AACA,sBAXA,EAYA,aAZA,EAYA;AACA,qBAbA,EAaA;AACA,yBAdA,EAcA;AACA,4BAfA,EAgBA,qBAhBA,EAgBA;AACA,wBAjBA,CAiBA;AAjBA,MAmBA,CAxBA,EAyBA,MAzBA,kBAyBA,KAzBA,EAyBA,CAEA,gBACA;AACA,uCACA,wCACA,wCACA,oCACA,yCACA,4CACA,4CACA,gCACA,0BATA,CAUA;AACA,4BAXA,CAYA;AACA,uCAEA,CAfA,MAeA,CAEA,uCACA,mCAHA,CAIA;AACA;AAKA;AACA,kCACA,+BACA,CARA,MAQA,CACA;AACA,+BAFA,CAGA;AACA,kCAJA,CAKA;AACA,sCACA,CApBA,CAqBA;AACA;AACA,KACA,CAnEA,EAoEA,WACA,SADA,uBACA,CACA,gBACA,iBACA,uBADA,EAEA,qCAEA,oBACA,qCACA,CAFA,MAEA,CACA,eACA,CACA,CATA,EAUA,4BACA;AACA,yBACA,CAbA,IAeA,CAlBA,EAmBA;AACA,iDACA,gBACA,kBACA,qBACA,kBACA,CACA,yBACA;;;;;;AAQA;;AAEA;AACA,kEADA;AAEA,wEAFA;AAGA,wEAHA;AAIA;AACA,gCADA;AAEA,0CAFA;AAGA,sCAHA;AAIA,oBAJA,EAJA;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aATA,MASA;AACA;AACA;AACA;AACA,WAdA,MAcA;AACA;AACA;AACA;AACA,SAhCA;AAiCA,YAjCA,gBAiCA,GAjCA,EAiCA;AACA;AACA;AACA,SApCA;;AAsCA,KA3EA;AA4EA;AACA;AACA;AACA;AACA;AACA;AACA,2EADA;AAEA,iFAFA;AAGA,iFAHA;AAIA;AACA,2BADA;AAEA,4BAFA,EAJA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCADA;AAEA,iEAFA;AAGA,wEAHA;AAIA,qEAJA;AAKA,4EALA;AAMA,uEANA;AAOA,8EAPA;AAQA,oEARA;AASA,sFATA;AAUA,oEAVA;;AAYA;AACA;AACA;AACA,aAlBA,MAkBA;AACA;AACA;AACA,iCADA;AAEA,8BAFA;;AAIA;AACA;AACA,WA3BA,MA2BA;AACA;AACA;AACA;AACA,+BADA;AAEA,4BAFA;;AAIA;AACA;AACA,SAhDA;AAiDA,YAjDA,gBAiDA,GAjDA,EAiDA;AACA;AACA,SAnDA;;AAqDA,KAtIA;AAuIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAnJA;AAoJA;AACA;AACA;AACA;AACA;AACA,KAzJA;AA0JA;AACA;AACA;AACA;AACA;AACA;AACA,KAhKA;AAiKA;AACA,YAlKA,oBAkKA,IAlKA,EAkKA;AACA;AACA;AACA,KArKA;AAsKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,KAjLA;AAkLA;AACA,oBAnLA,4BAmLA,IAnLA,EAmLA;AACA;AACA;AACA;AACA,KAvLA;;AAyLA;AACA,cA1LA,sBA0LA,CA1LA,EA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAFA,CAEA;AACA,yCAHA,CAGA;AACA;AACA;AACA,4EADA,CACA;AACA,kDAFA,CAEA;AACA,+CAHA,CAGA;AACA,mDAJA,CAIA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,2BAFA;AAGA,gCAHA;;AAKA;AACA;AACA;AACA,KAzOA;AA0OA;AACA;AACA;AACA;AACA;AACA,qDADA;AAEA,2DAFA;AAGA,2DAHA;AAIA;AACA,2CADA;AAEA,8CAFA;AAGA,mCAHA;AAIA,sDAJA;AAKA,mDALA;AAMA,uCANA;AAOA,mCAPA,EAJA;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA,mCADA;;AAGA,aAJA,MAIA;AACA;AACA,mCADA;AAEA,4BAFA;;AAIA;AACA;AACA,SA5BA;AA6BA,YA7BA,gBA6BA,GA7BA,EA6BA;AACA;AACA;AACA,SAhCA;;AAkCA,KAhRA;AAiRA;AACA,gBAlRA,wBAkRA,IAlRA,EAkRA;AACA;AACA;AACA;AACA;AACA;AACA,wCADA;AAEA,iBAFA,mBAEA,GAFA,EAEA;AACA;AACA;AACA;AACA,WANA;;AAQA,OAVA,MAUA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,4DAFA;AAGA,qBAHA,mBAGA,GAHA,EAGA;AACA;AACA;AACA;AACA,eAPA;;AASA,WAVA,MAUA;AACA;AACA;AACA;AACA,SAhBA,MAgBA;AACA;AACA,oCADA;AAEA,2CAFA;AAGA,wCAHA;AAIA,+CAJA;AAKA,iDALA;AAMA,uCANA;;AAQA;AACA,oCADA;AAEA,uBAFA;AAGA,mBAHA,qBAGA;AACA;AACA,4EADA;;AAGA,aAPA;AAQA,gBARA,kBAQA;AACA;AACA,aAVA;;AAYA;AACA;AACA,KAxUA;AAyUA;;AAEA;AACA,yBADA;AAEA,kBAFA;AAGA,eAHA,qBAGA;AACA;AACA,oCADA;;AAGA,SAPA;AAQA,YARA,kBAQA;AACA;AACA,SAVA;;AAYA,KAvVA;AAwVA;AACA;AACA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,cAHA;AAIA,iBAJA;AAKA,qBALA,EAKA;AACA,+BANA;AAOA,iCAPA;AAQA,0BARA;AASA,0BATA;AAUA,2EAVA;AAWA,mFAXA;AAYA,mFAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA,MAsBA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnZA;AAoZA;AACA,YArZA,oBAqZA,KArZA,EAqZA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,uBAFA;AAGA,4BAHA;;AAKA;AACA,KA1bA;;AA4bA;AACA,gBA7bA,0BA6bA;AACA;AACA,KA/bA,EApEA,E;;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAixC,CAAgB,kpCAAG,EAAC,C;;;;;;;;;;;ACAryC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./selectTickets.vue?vue&type=template&id=21ef4442&\"\nvar renderjs\nimport script from \"./selectTickets.vue?vue&type=script&lang=js&\"\nexport * from \"./selectTickets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectTickets.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"UAD/zhcx/pages_CTKY/pages/CTKY/TraditionSpecial/Order/selectTickets.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectTickets.vue?vue&type=template&id=21ef4442&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.allTicketsList, function(item, index) {\n    var m0 = _vm.isFlowTickets(item)\n    var m1 = _vm.isFlowTickets(item)\n    var m2 = _vm.turnDate(item.setTime)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0,\n      m1: m1,\n      m2: m2\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectTickets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectTickets.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 班次列表 -->\r\n\t<view class=\"myView\">\r\n\t\t<!-- 顶部时间选项卡 -->\r\n\t\t<view class=\"headerClass\">\r\n\t\t\t<scroll-view class=\"scrollClass\" scroll-x>\r\n\t\t\t\t<view class=\"blockClass\" :class=\"selectIndex == index ? 'viewPress': '' \" v-for=\"(item,index) in dateArray\" :key=\"index\"\r\n\t\t\t\t @click=\"viewClick(index,item)\" v-model=\"selectIndex\">\r\n\t\t\t\t\t<view class=\"textCLass\">\r\n\t\t\t\t\t\t<view class=\"weekClass\">{{item.week}}</view>\r\n\t\t\t\t\t\t<view class=\"dateClass\">{{item.date}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view style=\"width: 14%;height: 100%; align-items: center; justify-content: center;display: flex;\">\r\n\t\t\t\t<image src=\"../../../../static/CTKY/calendar.png\" class=\"calendarImage\" @click=\"onShowDatePicker('date')\"></image>\r\n\t\t\t</view>\r\n\t\t\t<mx-date-picker :show=\"showPicker\" :type=\"type\" :value=\"value\" :show-tips=\"true\" :begin-text=\"'入住'\" :end-text=\"'离店'\"\r\n\t\t\t :show-seconds=\"true\" @confirm=\"onSelected\" @cancel=\"onSelected\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 车票内容部分 -->\r\n\t\t<view class=\"ctky_View\" v-for=\"(item,index) in allTicketsList\" :key=\"index\" @click=\"ticketDetail(allTicketsList[index])\">\r\n\t\t\t<view class=\"ctky_View_Left\">\r\n\t\t\t\t<view style=\"display: flex;align-items: center;margin:20upx 25upx;\">\r\n\t\t\t\t\t<view class=\"markType\" style=\"border:#1EA2FF solid 1px;color:#1EA2FF;\" v-if=\"item.shuttleType == '普通班车' && isFlowTickets(item) == '普通'\">传统</view>\r\n\t\t\t\t\t<view class=\"markType\" style=\"border:#FF5A00 solid 1px;color:#FF5A00;\" v-if=\"item.shuttleType == '定制班车'\">定制</view>\n\t\t\t\t\t<view class=\"busMarkType\" style=\"border:#FF5A00 solid 1px;color:#FF5A00;\" v-if=\"item.shuttleType == '定制巴士'\">定制巴士</view>\n\t\t\t\t\t<view class=\"markType\" style=\"border:#1EA2FF solid 1px;color:#1EA2FF;\" v-if=\"item.shuttleType == '普通班车' && isFlowTickets(item) == '流水'\">流水</view>\r\n\t\t\t\t\t<view style=\"margin-left:19upx ;font-family: SourceHanSansSC-Bold;font-weight: bold;\">{{turnDate(item.setTime)}}</view>\r\n\t\t\t\t</view>\n\t\t\t\t<view style=\"display: flex;align-items: center;justify-content: space-between;\">\n\t\t\t\t\t<!-- 班次：{{getScheduleNum(item)}} 这里没有班次信息，暂时不显示 -->\n\t\t\t\t\t<view v-if=\"item.shuttleType != '定制巴士'\" style=\"margin-left: 25upx;font-size: 30upx;font-style:SourceHanSansSC-Regular ;\n\t\t\t\t\t\tcolor: #333333;margin-bottom: 16upx;\"></view>\n\t\t\t\t\t<view v-if=\"item.shuttleType != '定制巴士'\" style=\"margin-right: 28upx;font-size: 24upx;font-style:\n\t\t\t\t\tSourceHanSansSC-Regular; color: #FC4646;\">成人票￥{{item.fare}}</view>\n\t\t\t\t</view>\n\t\t\t\t\r\n\t\t\t\t<view style=\"margin-left: 25upx;display: flex;align-items: center;margin-bottom: 16upx;justify-content: space-between;\">\n\t\t\t\t\t<view style=\"display: flex;align-items: center;\">\n\t\t\t\t\t\t<image src=\"../../../../static/CTKY/startDot.png\" style=\"width: 10upx ;height: 10upx;\"></image>\n\t\t\t\t\t\t<view style=\"margin-left: 16upx; font-size: 30upx;font-style:SourceHanSansSC-Regular ;\n\t\t\t\t\t\tcolor: #333333;\">{{item.startStaion}}</view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view v-if=\"item.shuttleType != '定制巴士'\" style=\"margin-right: 28upx;font-size: 24upx;font-style:\n\t\t\t\t\tSourceHanSansSC-Regular; color: #FC4646;\">儿童票￥{{item.halfTicket}}</view>\n\t\t\t\t\t<view v-if=\"item.shuttleType == '定制巴士'\" style=\"margin-right: 28upx;font-size: 24upx;font-style:\n\t\t\t\t\tSourceHanSansSC-Regular; color: #FC4646;\">价格￥{{item.PriceRange}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left: 25upx;display: flex;align-items: center;margin-bottom: 16upx;justify-content: space-between;\">\n\t\t\t\t\t<view style=\"display: flex;align-items: center;\">\n\t\t\t\t\t\t<image src=\"../../../../static/CTKY/endDot.png\" style=\"width: 10upx ;height: 10upx;\"></image>\n\t\t\t\t\t\t<view style=\"margin-left: 16upx;font-size: 30upx;font-style:SourceHanSansSC-Regular ;\n\t\t\t\t\t\tcolor: #333333;\">{{item.endStation}}</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view style=\"margin-right: 28upx;font-size: 24upx;font-style:\n\t\t\t\t\tSourceHanSansSC-Light; color: #666666;\">余{{item.remainingVotes}}张</view>\r\n\t\t\t\t</view>\n\t\t\t\t\r\n\t\t\t\t<view style=\"margin-left: 25upx;margin-bottom: 20upx;font-style: SourceHanSansSC-Light;font-weight: lighter;\r\n\t\t\t\tfont-size: 28upx;color: #666666;\"\r\n\t\t\t\t v-if=\"item.shuttleType == '普通班车'\">{{item.carType}}/约{{item.duration}}分钟/儿童半票</view>\r\n\t\t\t\t<view style=\"margin-left: 25upx;margin-bottom: 20upx;font-style: SourceHanSansSC-Light;font-weight: lighter;\r\n\t\t\t\tfont-size: 28upx;color: #666666;\"\r\n\t\t\t\t v-if=\"item.shuttleType == '定制班车'\">{{item.carType}}/约{{item.duration}}分钟/儿童半票/站外上车</view>\n\t\t\t\t<view style=\"margin-left: 25upx;margin-bottom: 20upx;font-style: SourceHanSansSC-Light;font-weight: lighter;\n\t\t\t\t font-size: 28upx;color: #666666;\"\n\t\t\t\t  v-if=\"item.shuttleType == '定制巴士'\">{{item.SetoutTimeDesc}}</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $KyInterface from \"@/common/Ctky.js\"\r\n\timport MxDatePicker from \"@/pages_CTKY/components/CTKY/mx-datepicker/mx-datepicker.vue\";\r\n\timport utils from \"@/pages_CTKY/components/CTKY/shoyu-date/utils.filter.js\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tMxDatePicker\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tutils: utils,\r\n\t\t\t\tdateArray: [], //时间轴的数量的数组\r\n\t\t\t\tselectIndex: '', //选中的下标\r\n\t\t\t\tdate: '', //时间轴上选中的日期\r\n\t\t\t\tshowPicker: false,\r\n\t\t\t\ttype: 'rangetime',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tstartStation: '', //出发站\r\n\t\t\t\tendStation: '', //终点站\r\n\t\t\t\tdepartureData: [], //班次数据\r\n\t\t\t\tstationArray: [],\n\t\t\t\tisEndores:'',//是否是改签\n\t\t\t\tendoresDate:'',//改签日期\n\t\t\t\tendoresOrderNum:'',//改签的订单编号\n\t\t\t\tendorescompanyCode:'',\n\t\t\t\tscheduleDetailNum:'',//班次\n\t\t\t\tallTicketsList:[],//所有的班次信息（客运+定制巴士）\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(param) {\r\n\t\t\t\n\t\t\tvar that = this;\n\t\t\tif(param.isEndores) {//当前是改签\n\t\t\t\tthat.isEndores = param.isEndores;\n\t\t\t\tvar array = JSON.parse(param.orderInfo);\n\t\t\t\tthat.startStation = array.startSiteName;\n\t\t\t\tthat.endStation = array.endSiteName;\n\t\t\t\tthat.endoresOrderNum = array.orderNumber;\n\t\t\t\tthat.endorescompanyCode = array.companyCode;\n\t\t\t\tvar dateArray = array.setOutTime.split(' ');\n\t\t\t\tthat.endoresDate = dateArray[0];\n\t\t\t\tconsole.log(dateArray[0])\n\t\t\t\t//初始化时间轴\n\t\t\t\tthat.loadDate('date');\n\t\t\t\t//加载班次列表数据\n\t\t\t\tthat.getTicketInfo(dateArray[0]);\n\t\t\t\t\n\t\t\t}else {\n\t\t\t\t\n\t\t\t\tthat.startStation = param.startStation;\n\t\t\t\tthat.endStation = param.endStation;\n\t\t\t\t//如果传过来的参数没有时间就获取当前时间\n\t\t\t\tif (param.date == 'date') {//二维码扫码进来\n\t\t\t\t// #ifdef H5\n\t\t\t\t//获取openid\n\t\t\t\tthis.getOpenID();\n\t\t\t\t// #endif\n\t\t\t\t\t//初始化时间轴\n\t\t\t\t\tthat.loadDate(param.date);\n\t\t\t\t\tthat.getTicketInfo(param.date);\n\t\t\t\t} else {\n\t\t\t\t\t//班次列表数据参数，从上一个页面传过来的时间，上下车点\n\t\t\t\t\tthat.date = param.date;\n\t\t\t\t\t//初始化时间轴\n\t\t\t\t\tthat.loadDate(param.date);\n\t\t\t\t\t//加载班次列表数据\n\t\t\t\t\tthat.getTicketInfo(this.date);\n\t\t\t\t}\n\t\t\t\t//点击顶部时间，请求该时间的班次列表\n\t\t\t\t// this.getDeparture();\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetOpenID() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: 'scenicSpotOpenId',\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t\n\t\t\t\t\t\tif(response.data) {\n\t\t\t\t\t\t\tconsole.log('当前没有有openid',response);\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\tthat.getCode();\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(fail) {\r\n\t\t\t\t\t\t//无openid，请求openid\r\n\t\t\t\t\t\tthat.getCode();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//-------------------------------加载客运班次列表数据-------------------------------\r\n\t\t\tgetTicketInfo: function(date) {\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showLoading();\n\t\t\t\tif (date == 'date') {\n\t\t\t\t\tdate = new Date();\n\t\t\t\t}\n\t\t\t\tthat.allTicketsList = [];\n\t\t\t\tvar systemName = '';\n\t\t\t\t// #ifdef H5\n\t\t\t\tsystemName = '南平旅游H5';\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\tsystemName = '南平旅游APP';\n\t\t\t\t// #endif\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tsystemName = '南平旅游H5';\n\t\t\t\t// #endif\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.Ky_getListSchedulesInfo.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.Ky_getListSchedulesInfo.method,\r\n\t\t\t\t\theader: $KyInterface.KyInterface.Ky_getListSchedulesInfo.header,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tsystemName: systemName,\r\n\t\t\t\t\t\tstartPosition: that.startStation,\r\n\t\t\t\t\t\tendPosition: that.endStation,\r\n\t\t\t\t\t\tdate: date,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t// uni.hideLoading();\r\n\t\t\t\t\t\t// console.log('客运班次信息',res);\r\n\t\t\t\t\t\t//非空判断\r\n\t\t\t\t\t\tif (res.data.status == true) {\n\t\t\t\t\t\t\tif(res.data.data){\n\t\t\t\t\t\t\t\tthat.departureData = res.data.data;\n\t\t\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\t\t\tfor(i; i < res.data.data.length;i++){\n\t\t\t\t\t\t\t\t\tthat.allTicketsList.push(res.data.data[i])\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t// console.log(that.allTicketsList)\n\t\t\t\t\t\t\t\t//加载定制巴士班次列表数据\n\t\t\t\t\t\t\t\tthat.getSpecialBusTicketInfo(date);\n\t\t\t\t\t\t\t}else if(res.data.data.length == 0) {\n\t\t\t\t\t\t\t\t//加载定制巴士班次列表数据\n\t\t\t\t\t\t\t\tthat.getSpecialBusTicketInfo(date);\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else if (res.data.status == false){\r\n\t\t\t\t\t\t\t//加载定制巴士班次列表数据\n\t\t\t\t\t\t\tthat.getSpecialBusTicketInfo(date);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\n\t\t\t//-------------------------------加载定制巴士班次列表数据-------------------------------\n\t\t\tgetSpecialBusTicketInfo: function(date) {\n\t\t\t\tvar that = this;\n\t\t\t\tuni.showLoading();\n\t\t\t\tvar LineName = that.startStation + '-' + that.endStation;\n\t\t\t\tuni.request({\n\t\t\t\t\turl: $KyInterface.KyInterface.Cs_GetSellableScheduleByLineName.Url,\n\t\t\t\t\tmethod: $KyInterface.KyInterface.Cs_GetSellableScheduleByLineName.method,\n\t\t\t\t\theader: $KyInterface.KyInterface.Cs_GetSellableScheduleByLineName.header,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\texecuteDate: date,\n\t\t\t\t\t\tLineName: LineName,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\t// console.log('定制巴士班次数据',res)\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t//非空判断\n\t\t\t\t\t\tif (res.data.Successed == true) {\n\t\t\t\t\t\t\tif(res.data.ScheduleForSell){\n\t\t\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\t\t\tfor(i; i < res.data.ScheduleForSell.length;i++){\n\t\t\t\t\t\t\t\t\tvar array = {\n\t\t\t\t\t\t\t\t\t\tshuttleType:'定制巴士',\n\t\t\t\t\t\t\t\t\t\tsetTime:res.data.ScheduleForSell[i].SetoutTime,\n\t\t\t\t\t\t\t\t\t\tstartStaion:res.data.ScheduleForSell[i].StartSiteName,\n\t\t\t\t\t\t\t\t\t\tendStation:res.data.ScheduleForSell[i].EndSiteName,\n\t\t\t\t\t\t\t\t\t\tSetoutTimeDesc:res.data.ScheduleForSell[i].SetoutTimeDesc,\n\t\t\t\t\t\t\t\t\t\tremainingVotes:res.data.ScheduleForSell[i].MaxTicket,\n\t\t\t\t\t\t\t\t\t\tLineViaSiteName:res.data.ScheduleForSell[i].LineViaSiteName,\n\t\t\t\t\t\t\t\t\t\tScheduleID:res.data.ScheduleForSell[i].ScheduleID,\n\t\t\t\t\t\t\t\t\t\tScheduleCompanyCode:res.data.ScheduleForSell[i].ScheduleCompanyCode,\n\t\t\t\t\t\t\t\t\t\tPriceRange:res.data.ScheduleForSell[i].PriceRange,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tthat.allTicketsList.push(array);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthat.allTicketsList = that.ForwardRankingDate(that.allTicketsList);\n\t\t\t\t\t\t\t}else if(res.data.ScheduleForSell.length == 0) {\n\t\t\t\t\t\t\t\tif(that.departureData.length == 0){\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ttitle: '暂无班次信息',\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (res.data.Successed == false){\n\t\t\t\t\t\t\t// that.departureData = res.data.ScheduleForSell;\n\t\t\t\t\t\t\tif(that.departureData.length == 0){\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: '暂无班次信息',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//-------------------------------班次排序--升序-------------------------------\n\t\t\tForwardRankingDate:function(param){\n\t\t\t\tfor (let i = 0; i < param.length - 1; i++){\n\t\t\t\t\tfor (let j = 0; j < param.length - 1 - i; j++) {\n\t\t\t\t\t\tif (Date.parse(this.turnDate(param[j].setTime)) > Date.parse(this.turnDate(param[j+1].setTime))) {\n\t\t\t\t\t\t\tvar temp = param[j];\n\t\t\t\t\t\t\tparam[j] = param[j + 1];\n\t\t\t\t\t\t\tparam[j + 1] = temp;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t//-------------------------------点击日期-------------------------------\r\n\t\t\tviewClick: function(e, item) {\r\n\t\t\t\tthis.selectIndex = e;\r\n\t\t\t\tthis.date = item.longDate;\r\n\t\t\t\tthis.getDeparture();\r\n\t\t\t},\n\t\t\t//-------------------------------获取班次信息-------------------------------\n\t\t\tgetScheduleNum:function(param){\n\t\t\t\tif(param.shuttleType != '定制巴士'){\n\t\t\t\t\tvar schedule = param.executeScheduleID.split('|');\n\t\t\t\t\treturn schedule[1];\n\t\t\t\t}\n\t\t\t},\r\n\t\t\t//-------------------------------时间转换-------------------------------\r\n\t\t\tturnDate(date) {\r\n\t\t\t\tvar setTime = date.replace('T', ' ');\r\n\t\t\t\treturn setTime;\r\n\t\t\t},\n\t\t\t//-------------------------------判断是否是流水班次-------------------------------\n\t\t\tisFlowTickets:function(param){\n\t\t\t\t//传入班次ID，检测是否包含字段‘前’，有字段‘前’即为流水班次\n\t\t\t\t//判断返回值为-1表示没有字段‘前’\n\t\t\t\tif(param.shuttleType != '定制巴士'){\n\t\t\t\t\tif(param.priceID.lastIndexOf('前') != -1) {\n\t\t\t\t\t\treturn '流水'\n\t\t\t\t\t}else {\n\t\t\t\t\t\treturn '普通'\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\r\n\t\t\t//-------------------------------显示日期-------------------------------\r\n\t\t\tonShowDatePicker(type) { //显示\r\n\t\t\t\tthis.type = type;\r\n\t\t\t\tthis.showPicker = true;\r\n\t\t\t\tthis.value = this[type];\r\n\t\t\t},\n\t\t\t\r\n\t\t\t//-------------------------------选择日期-------------------------------\r\n\t\t\tonSelected(e) {\r\n\t\t\t\tthis.showPicker = false;\r\n\t\t\t\tif (e) {\r\n\t\t\t\t\tthis[this.type] = e.value;\r\n\t\t\t\t\t// this[this.type] = e.value.split('/')[1] + \"月\" + e.value.split('/')[2] + \"日\";\r\n\t\t\t\t\t// this.datestring = this[this.type];\r\n\t\t\t\t\t// this.queryWeek(e.date.toString().substring(0,3));\r\n\t\t\t\t\t// console.log(this[this.type]);\r\n\t\t\t\t\t// console.log(e.date.toString().substring(0, 3));\r\n\t\t\t\t\t//console.log(this.Week);\r\n\t\t\t\t\t//选择的值\r\n\t\t\t\t\t// console.log('value => ' + e.value);\r\n\t\t\t\t\t//原始的Date对象\r\n\t\t\t\t\t// console.log('date => ' + e.date);\r\n\t\t\t\t\tthis.date = e.value;\r\n\t\t\t\t\t// console.log(e.value)\r\n\t\t\t\t\t//从日历选择时间后刷新列表数据\r\n\t\t\t\t\tthis.getTicketInfo(e.value);\r\n\t\t\t\t\tvar IsExist = false;\r\n\t\t\t\t\tfor (var i = 0; i < this.dateArray.length; i++) {\r\n\t\t\t\t\t\tif ((new Date(this.dateArray[i].longDate)).getTime() == (new Date(this.date)).getTime()) {\r\n\t\t\t\t\t\t\tIsExist = true;\r\n\t\t\t\t\t\t\tthis.selectIndex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//判断时间轴上是否存在改日期，不存在则重新绘制\r\n\t\t\t\t\tif (!IsExist) {\r\n\t\t\t\t\t\tthis.dateArray = [];\r\n\t\t\t\t\t\tvar dateToday = new Date(); //获取今天日期\r\n\t\t\t\t\t\tvar date = new Date(this.date); //选中的日期\r\n\t\t\t\t\t\tthis.selectIndex = 0;\r\n\t\t\t\t\t\tfor (var i = 0; i < 8; i++) {\r\n\t\t\t\t\t\t\tvar mydate = new Date(date.getTime() + 24 * i * 60 * 60 * 1000); //日期一天加一次\r\n\t\t\t\t\t\t\tvar nowdate = this.getTime(3, mydate); //获取该日期的缩写  月/日\r\n\t\t\t\t\t\t\tvar week = this.getTime(2, mydate); //获取该日期为周几\r\n\t\t\t\t\t\t\tvar longdate = this.getTime(0, mydate); //获取 年/月/日\r\n\t\t\t\t\t\t\tif (this.getTime(0, mydate) == this.getTime(0, dateToday)) {\r\n\t\t\t\t\t\t\t\tweek = '今天';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.dateArray.push({\r\n\t\t\t\t\t\t\t\tweek: week,\r\n\t\t\t\t\t\t\t\tdate: nowdate,\r\n\t\t\t\t\t\t\t\tlongDate: longdate,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\n\t\t\t//-------------------------------改签请求-------------------------------\n\t\t\tendores:function(item){\n\t\t\t\tvar that = this;\n\t\t\t\tuni.showLoading();\n\t\t\t\tuni.request({\n\t\t\t\t\turl:$KyInterface.KyInterface.Ky_endorse.Url,\n\t\t\t\t\tmethod:$KyInterface.KyInterface.Ky_endorse.method,\n\t\t\t\t\theader:$KyInterface.KyInterface.Ky_endorse.header,\n\t\t\t\t\tdata: {\n\t\t\t\t\t\torderNumber:that.endoresOrderNum,\n\t\t\t\t\t\tCompanyCode:that.endorescompanyCode,\n\t\t\t\t\t\texecuteDate:item.setTime,\n\t\t\t\t\t\tsheduleCompanyCode:item.scheduleCompanyCode,\n\t\t\t\t\t\texecuteScheduleID:item.executeScheduleID,\n\t\t\t\t\t\tstartSiteID:item.startSiteID,\n\t\t\t\t\t\tendSiteID:item.endSiteID,\n\t\t\t\t\t},\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\tif(res.data) {\n\t\t\t\t\t\t\tif(res.data.status == true) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle:res.data.msg\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}else if(res.data.status == false) {\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle:res.data.msg,\n\t\t\t\t\t\t\t\t\ticon:'none'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t// uni.hideLoading();\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\r\n\t\t\t//-------------------------------点击班次进行缓存，并打开页面  开始-------------------------------\r\n\t\t\tticketDetail(item) {\r\n\t\t\t\tvar that = this;\n\t\t\t\t//改签入口\n\t\t\t\tif(that.isEndores == 'true') {\n\t\t\t\t\tlet content = that.startStation + '-' + that.endStation + '-' + that.endoresDate\n\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\tcontent:'是否改签到当前班次' + content,\n\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\tif(res.confirm) {\n\t\t\t\t\t\t\t\tthat.endores(item)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}else {\n\t\t\t\t\t//如果选择的是传统客运/定制班车就进下面的方法\n\t\t\t\t\tif(item.shuttleType != '定制巴士'){\n\t\t\t\t\t\t//如果当前选的是流水班次就弹框提示\n\t\t\t\t\t\tif(item.priceID.lastIndexOf('前') != -1) {\n\t\t\t\t\t\t\tuni.showModal({\n\t\t\t\t\t\t\t\ttitle:'温馨提示',\n\t\t\t\t\t\t\t\tcontent:'流水班车发车时间间隔短、班次多，旅客购买后可乘坐当天任意流水班车出行。',\n\t\t\t\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\t\t\t\tif(res.confirm) {\n\t\t\t\t\t\t\t\t\t\tthat.goNext(item);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t//如果选的不是流水班次就直接跳转到下一个页面\n\t\t\t\t\t\t\tthat.goNext(item);\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\tvar array = {\n\t\t\t\t\t\t\tSetoutTime:item.setTime,\n\t\t\t\t\t\t\tStartSiteName:item.startStaion,\n\t\t\t\t\t\t\tEndSiteName:item.endStation,\n\t\t\t\t\t\t\tremainingVotes:item.remainingVotes,\n\t\t\t\t\t\t\tLineViaSiteName:item.LineViaSiteName,\n\t\t\t\t\t\t\tScheduleID:item.ScheduleID,\n\t\t\t\t\t\t}\n\t\t\t\t\t\tuni.setStorage({\n\t\t\t\t\t\t\tkey: 'specialTicketDate',\n\t\t\t\t\t\t\tdata: array,\n\t\t\t\t\t\t\tsuccess() {\n\t\t\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\t\t\turl: '../../SpecialBus/ScheduleLineList/specialBusTakeOrder'\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail() {\n\t\t\t\t\t\t\t\tconsole.log('123');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\r\n\t\t\t},\n\t\t\tgoNext:function(item){\n\t\t\t\t\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: 'ticketDate',\n\t\t\t\t\tdata: item,\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: './scheduleDetails'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tconsole.log('123');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\t//-------------------------------点击班次进行缓存，并打开页面  结束-------------------------------\r\n\t\t\t//日期时间转换函数   type 0 年月日 ，1 时分秒 ， 2 星期 ，3 月/日  4几月几日\r\n\t\t\tgetTime: function(type, date1) {\r\n\t\t\t\tlet date = new Date(date1.getTime()),\r\n\t\t\t\t\tcurrentDate,\r\n\t\t\t\t\tcurrentTime,\r\n\t\t\t\t\tsortDate,\r\n\t\t\t\t\tmonthAndDay,\r\n\t\t\t\t\tseperator = \"/\", // 如果想要其他格式 只需 修改这里 \r\n\t\t\t\t\tyear = date.getFullYear(),\r\n\t\t\t\t\tmonth = date.getMonth() + 1,\r\n\t\t\t\t\tweex = date.getDay(),\r\n\t\t\t\t\tday = date.getDate(),\r\n\t\t\t\t\thour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n\t\t\t\t\tminute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n\t\t\t\t\tsecond = date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\r\n\t\t\t\t// month >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t// day >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t//当前 日期\r\n\t\t\t\tcurrentDate = year + seperator + month + seperator + day;\r\n\t\t\t\t//当前 时间\r\n\t\t\t\tcurrentTime = hour + \":\" + minute + \":\" + second;\r\n\t\t\t\tsortDate = month + \"/\" + day;\r\n\t\t\t\tmonthAndDay = month + \"月\" + day + \"日\";\r\n\t\t\t\t// 输出格式 为 2018-8-27 14:45:33\r\n\t\t\t\t// console.log(currentDate +\" \"+ currentTime);\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\treturn currentDate\r\n\t\t\t\t} else if (type == 1) {\r\n\t\t\t\t\treturn currentTime;\r\n\t\t\t\t} else if (type == 2) {\r\n\t\t\t\t\tif (weex == 1) {\r\n\t\t\t\t\t\treturn '周一'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 2) {\r\n\t\t\t\t\t\treturn '周二'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 3) {\r\n\t\t\t\t\t\treturn '周三'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 4) {\r\n\t\t\t\t\t\treturn '周四'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 5) {\r\n\t\t\t\t\t\treturn '周五'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 6) {\r\n\t\t\t\t\t\treturn '周六'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 0) {\r\n\t\t\t\t\t\treturn '周日'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (type == 3) {\r\n\t\t\t\t\treturn sortDate;\r\n\t\t\t\t} else if (type == 4) {\r\n\t\t\t\t\treturn monthAndDay;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn currentDate + \" \" + currentTime;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//-------------------------------初始化时间轴-------------------------------\r\n\t\t\tloadDate(param) {\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar date = '';\r\n\t\t\t\t\n\t\t\t\t//从二维码进到这个页面，使用系统时间\r\n\t\t\t\tif (param.date == 'date') {\n\t\t\t\t\tdate = new Date();\n\t\t\t\t\tthat.getTicketInfo(date);\n\t\t\t\t\tconsole.log('二维码');\r\n\t\t\t\t} else { \n\t\t\t\t\t//从首页进来，对时间格式进行操作\n\t\t\t\t\tif(param == 'date'){\n\t\t\t\t\t\tdate = new Date();\n\t\t\t\t\t\tthat.getTicketInfo(date);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tvar subStr = new RegExp('-', 'ig');\n\t\t\t\t\t\tvar result = this.date.replace(subStr, \"/\");\n\t\t\t\t\t\tdate = new Date(result);\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// var mydate = this.date;\r\n\t\t\t\tthis.selectIndex = 0;\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\tvar mydate = new Date(date.getTime() + 24 * i * 60 * 60 * 1000);\r\n\r\n\t\t\t\t\tvar nowdate = this.getTime(3, mydate);\r\n\t\t\t\t\tvar week = this.getTime(2, mydate);\r\n\t\t\t\t\tvar longdate = this.getTime(0, mydate);\r\n\t\t\t\t\tif (mydate.getTime() == date.getTime()) {\r\n\t\t\t\t\t\tweek = '今天';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.dateArray.push({\r\n\t\t\t\t\t\tweek: week,\r\n\t\t\t\t\t\tdate: nowdate,\r\n\t\t\t\t\t\tlongDate: longdate,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//点击顶部时间，请求该时间的班次列表\r\n\t\t\tgetDeparture() {\r\n\t\t\t\tthis.getTicketInfo(this.date);\r\n\t\t\t},\r\n\t\t\t// #ifdef  H5\r\n\t\t\t//获取openid\r\n\t\t\tgetCode() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet Appid = \"wx14af28006f937f6e\"; //appid\r\n\t\t\t\tlet code = this.getUrlParam('code'); //是否存在code\n\t\t\t\t\r\n\t\t\t\tlet local = $KyInterface.KyInterface.Ky_getListSchedulesInfo.Url;\r\n\t\t\t\tif (code == null || code === \"\") {\r\n\t\t\t\t\t//不存在就打开上面的地址进行授权\r\n\t\t\t\t\twindow.location.href =\r\n\t\t\t\t\t\t\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" +\r\n\t\t\t\t\t\tAppid +\r\n\t\t\t\t\t\t\"&redirect_uri=\" +\r\n\t\t\t\t\t\tencodeURIComponent(local) +\r\n\t\t\t\t\t\t\"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 存在则通过code传向后台调用接口返回微信的个人信息\n\t\t\t\t\t// #ifdef H5\n\t\t\t\t\t\n\t\t\t\t\t// #endif\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://27.148.155.9:9056/CTKY/getWxUserinfo?code=' + code + '&Appid=' + Appid +\r\n\t\t\t\t\t\t\t'&Appsecret=9cda28b050341aca1f674d2043b01358',\r\n\t\t\t\t\t\theader: $KyInterface.KyInterface.Ky_getListSchedulesInfo.header,\r\n\t\t\t\t\t\tmethod: $KyInterface.KyInterface.Ky_getListSchedulesInfo.method,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res, \"res\")\r\n\t\t\t\t\t\t\tuni.setStorageSync('scenicSpotOpenId', res.data.openid)\r\n\t\t\t\t\t\t\tuni.setStorageSync('wxuserInfo', res.data)\r\n\t\t\t\t\t\t\tlet openid = res.data.openid;\r\n\t\t\t\t\t\t\tconsole.log(openid, \"openid\")\r\n\t\t\t\t\t\t\tif (openid != \"\" && openid != null && openid != undefined) {\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t//url:'http://zntc.145u.net/api/person/changeInfo',\r\n\t\t\t\t\t\t\t\t\turl: that.$GrzxInter.Interface.GetUserInfoByOpenId_wx.value,\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\topenId_wx: openid,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmethod: that.$GrzxInter.Interface.GetUserInfoByOpenId_wx.method,\r\n\t\t\t\t\t\t\t\t\tsuccess(res1) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res1, 'res1')\r\n\t\t\t\t\t\t\t\t\t\t//判断是否有绑定手机号\r\n\t\t\t\t\t\t\t\t\t\tif (res1.data.msg == \"获取用户信息失败,不存在该openID用户信息\") {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '您未绑定手机号，请绑定手机号！',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/GRZX/wxLogin'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(openid, 'openid1')\r\n\t\t\t\t\t\t\t\t\t\tif (openid == res1.data.data.openId_wx && openid != \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res1.data.data)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"err是\" + err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//判断code信息是否存在\r\n\t\t\tgetUrlParam(name) {\r\n\t\t\t\tvar reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\r\n\t\t\t\tlet url = window.location.href.split('#')[0]\r\n\t\t\t\tlet search = url.split('?')[1]\r\n\t\t\t\tif (search) {\r\n\t\t\t\t\tvar r = search.substr(0).match(reg)\r\n\t\t\t\t\tif (r !== null) return unescape(r[2])\r\n\t\t\t\t\treturn null\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//#endif  \r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage,\r\n\t.myView {\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: #F1F1F1;\r\n\t}\r\n\r\n\t.headerClass {\n\t\tposition: sticky;\r\n\t\twidth: 100%;\r\n\t\tbackground: #FFFFFF;\r\n\t\theight: 109upx;\r\n\t\t//padding-left: 10upx;\r\n\t\tmargin-bottom: 10upx;\r\n\t\tdisplay: flex;\n\t\tz-index: 9999999999999;\r\n\t}\r\n\r\n\t.scrollClass {\r\n\t\theight: 109upx;\r\n\t\twidth: 86%;\r\n\t\twhite-space: nowrap; //外层写这俩\r\n\t\tflex-wrap: nowrap;\r\n\t}\r\n\r\n\t.blockClass {\r\n\t\tmargin: 12upx 14upx;\r\n\t\t//background: #FFFFFF;\r\n\t\twidth: 87upx;\r\n\t\theight: 84upx;\r\n\t\tborder-radius: 8upx;\r\n\t\tdisplay: inline-block; //里层写这个\r\n\t}\r\n\r\n\t.markType {\r\n\t\twidth: 65upx;\r\n\t\theight: 37upx;\r\n\t\tline-height: 37rpx;\r\n\t\tborder-radius: 14upx;\r\n\t\ttext-align: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 24upx;\r\n\t\tfont-family: SourceHanSansSC-Light;\r\n\t}\n\t.busMarkType {\n\t\t// width: 65upx;\n\t\tpadding: 0 10rpx;\n\t\theight: 37upx;\n\t\tline-height: 37rpx;\n\t\tborder-radius: 14upx;\n\t\ttext-align: center;\n\t\talign-items: center;\n\t\tfont-size: 24upx;\n\t\tfont-family: SourceHanSansSC-Light;\n\t}\r\n\t.textCLass {\r\n\t\tmargin: 9upx 17upx;\r\n\t}\r\n\r\n\t.weekClass {\r\n\t\t//display: block;\r\n\t\tfont-size: 26upx;\r\n\t\tfont-family: MicrosoftYaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #333333;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.dateClass {\r\n\t\t//display: block;\r\n\t\tfont-size: 24upx;\r\n\t\tfont-family: MicrosoftYaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #333333;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.viewPress {\r\n\t\tbackground: #DD524D;\r\n\r\n\t\t.weekClass {\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\r\n\t\t.dateClass {\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t}\r\n\r\n\t.calendarImage {\r\n\t\twidth: 35upx;\r\n\t\theight: 37upx;\r\n\t}\r\n\r\n\t.ctky_View {\r\n\t\twidth: 94%;\r\n\t\tbackground: #FFFFFF;\r\n\t\tmargin: 16upx 3%;\r\n\t\tborder-radius: 20upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.ctky_View_Left {\r\n\t\ttext-align: left;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\n\t\twidth: 100%;\r\n\t\tpadding: 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectTickets.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./selectTickets.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594278265321\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
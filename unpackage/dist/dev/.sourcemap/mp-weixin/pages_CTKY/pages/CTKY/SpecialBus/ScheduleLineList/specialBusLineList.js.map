{"version":3,"sources":["uni-app:///main.js","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?4656","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?0f29","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?ce65","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?964e","uni-app:///pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?4f96","webpack:///D:/UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue?5759"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,6J;AACAA,UAAU,CAACC,2BAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AACsE;AACL;AACc;;;AAG/E;AACqL;AACrL,gBAAgB,sLAAU;AAC1B,EAAE,wFAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAysB,CAAgB,yqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACsD7tB,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+ZAEA,EACA,cACA,0BADA,EADA,EAIA,IAJA,kBAIA,CACA,SACA,aADA,EACA;AACA,qBAFA,EAEA;AACA,cAHA,EAGA;AACA,uBAJA,EAKA,iBALA,EAMA,SANA,EAOA,UAPA,EAQA,iBARA,EAQA;AACA,sBATA,GAWA,CAhBA,EAiBA,MAjBA,kBAiBA,KAjBA,EAiBA,CAEA,gBACA,2BAHA,CAKA;AACA,2BANA,CAQA;AACA,8BATA,CAUA;AACA,kCACA,CA7BA,EA8BA,WACA;AACA,iDACA,gBACA,kBACA,yBACA,cACA,qDADA,EAEA,2DAFA,EAGA,2DAHA,EAIA,QACA,sBADA,EAEA,mBAFA,EAJA,EAQA,gCACA,iBACA,kBAFA,CAIA;AACA,2CACA,8CACA,CAFA,MAEA,kCACA,8CACA,gBACA,aADA,EAEA,YAFA,IAIA,CACA,CAtBA,EAuBA,IAvBA,gBAuBA,GAvBA,EAuBA,CACA;AACA;AACA,SA1BA;;AA4BA,KAlCA;AAmCA;AACA;AACA;AACA;AACA,KAvCA;AAwCA;AACA,YAzCA,oBAyCA,IAzCA,EAyCA;AACA;AACA;AACA,KA5CA;;AA8CA;AACA,oBA/CA,4BA+CA,IA/CA,EA+CA;AACA;AACA;AACA;AACA,KAnDA;;AAqDA;AACA,cAtDA,sBAsDA,CAtDA,EAsDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAFA,CAEA;AACA,yCAHA,CAGA;AACA;AACA;AACA,4EADA,CACA;AACA,kDAFA,CAEA;AACA,+CAHA,CAGA;AACA,mDAJA,CAIA;AACA;AACA;AACA;AACA;AACA,wBADA;AAEA,2BAFA;AAGA,gCAHA;;AAKA;AACA;AACA;AACA,KArGA;AAsGA;AACA,gBAvGA,wBAuGA,IAvGA,EAuGA;AACA;AACA;AACA;AACA,gCADA;AAEA,kBAFA;AAGA,eAHA,qBAGA;AACA;AACA,wCADA;;AAGA,SAPA;AAQA,YARA,kBAQA;AACA;AACA,SAVA;;AAYA,KAtHA;;AAwHA;AACA;AACA;AACA;AACA,iBADA;AAEA,iBAFA;AAGA,cAHA;AAIA,iBAJA;AAKA,qBALA,EAKA;AACA,+BANA;AAOA,iCAPA;AAQA,0BARA;AASA,0BATA;AAUA,2EAVA;AAWA,mFAXA;AAYA,mFAZA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAtBA,MAsBA;AACA;AACA,OAFA,MAEA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAnLA;AAoLA;AACA,YArLA,oBAqLA,KArLA,EAqLA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAJA,MAIA;AACA;AACA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBADA;AAEA,uBAFA;AAGA,4BAHA;;AAKA;AACA,KA1NA;;AA4NA;AACA,gBA7NA,0BA6NA;AACA;AACA,KA/NA,EA9BA,E;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAsxC,CAAgB,upCAAG,EAAC,C;;;;;;;;;;;ACA1yC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./specialBusLineList.vue?vue&type=template&id=66e7cbfe&\"\nvar renderjs\nimport script from \"./specialBusLineList.vue?vue&type=script&lang=js&\"\nexport * from \"./specialBusLineList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./specialBusLineList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"UAD/zhcx/pages_CTKY/pages/CTKY/SpecialBus/ScheduleLineList/specialBusLineList.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusLineList.vue?vue&type=template&id=66e7cbfe&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.departureData, function(item, index) {\n    var m0 = _vm.turnDate(item.SetoutTime)\n    return {\n      $orig: _vm.__get_orig(item),\n      m0: m0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusLineList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusLineList.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!-- 班次列表 -->\r\n\t<view class=\"myView\">\r\n\t\t<!-- 顶部时间选项卡 -->\r\n\t\t<view class=\"headerClass\">\r\n\t\t\t<scroll-view class=\"scrollClass\" scroll-x>\r\n\t\t\t\t<view class=\"blockClass\" :class=\"selectIndex == index ? 'viewPress': '' \" v-for=\"(item,index) in dateArray\" :key=\"index\"\r\n\t\t\t\t @click=\"viewClick(index,item)\" v-model=\"selectIndex\">\r\n\t\t\t\t\t<view class=\"textCLass\">\r\n\t\t\t\t\t\t<view class=\"weekClass\">{{item.week}}</view>\r\n\t\t\t\t\t\t<view class=\"dateClass\">{{item.date}}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<view style=\"width: 14%;height: 100%; align-items: center; justify-content: center;display: flex;\">\r\n\t\t\t\t<image src=\"../../../../static/CTKY/calendar.png\" class=\"calendarImage\" @click=\"onShowDatePicker('date')\"></image>\r\n\t\t\t</view>\r\n\t\t\t<mx-date-picker :show=\"showPicker\" :type=\"type\" :value=\"value\" :show-tips=\"true\" :begin-text=\"'入住'\" :end-text=\"'离店'\"\r\n\t\t\t :show-seconds=\"true\" @confirm=\"onSelected\" @cancel=\"onSelected\" />\r\n\t\t</view>\r\n\r\n\t\t<!-- 车票内容部分 -->\r\n\t\t<view class=\"ctky_View\" v-for=\"(item,index) in departureData\" :key=\"index\" @click=\"ticketDetail(departureData[index])\">\r\n\t\t\t<view class=\"ctky_View_Left\">\r\n\t\t\t\t<view style=\"display: flex;align-items: center;margin:20upx 25upx;\">\r\n\t\t\t\t\t<view class=\"markType\" style=\"border:#1EA2FF solid 1px;color:#1EA2FF;\">定制巴士</view>\t\t\t\t\r\n\t\t\t\t\t<view style=\"margin-left:19upx ;font-family: SourceHanSansSC-Bold;font-weight: bold;\">{{turnDate(item.SetoutTime)}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left: 25upx;display: flex;align-items: center;margin-bottom: 16upx;\">\r\n\t\t\t\t\t<image src=\"../../../../static/CTKY/startDot.png\" style=\"width: 10upx ;height: 10upx;\"></image>\r\n\t\t\t\t\t<view style=\"margin-left: 16upx; font-size: 30upx;font-style:SourceHanSansSC-Regular ;\r\n\t\t\t\t\tcolor: #333333;\">{{item.StartSiteName}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left: 25upx;display: flex;align-items: center;margin-bottom: 16upx;\">\r\n\t\t\t\t\t<image src=\"../../../../static/CTKY/endDot.png\" style=\"width: 10upx ;height: 10upx;\"></image>\r\n\t\t\t\t\t<view style=\"margin-left: 16upx;font-size: 30upx;font-style:SourceHanSansSC-Regular ;\r\n\t\t\t\t\tcolor: #333333;\">{{item.EndSiteName}}</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view style=\"margin-left: 25upx;margin-bottom: 20upx;font-style: SourceHanSansSC-Light;font-weight: lighter;\r\n\t\t\t\tfont-size: 28upx;color: #666666;\">{{item.SetoutTimeDesc}}</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"ctky_View_Right\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t<!-- <view style=\"margin-right: 28upx;font-size: 36upx;font-style:\r\n\t\t           SourceHanSansSC-Regular; color: #FC4646;\">￥{{item.FullPrice}}</view> -->\r\n\t\t\t\t\t<view style=\"margin-right: 28upx;margin-top: 20upx;font-size: 24upx;font-style:\r\n\t\t           SourceHanSansSC-Light; color: #666666;\">余{{item.MaxTicket}}张</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport $KyInterface from \"@/common/Ctky.js\"\r\n\timport MxDatePicker from \"@/pages_CTKY/components/CTKY/mx-datepicker/mx-datepicker.vue\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tMxDatePicker\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdateArray: [], //时间轴的数量的数组\r\n\t\t\t\tselectIndex: '', //选中的下标\r\n\t\t\t\tdate: '', //时间轴上选中的日期\r\n\t\t\t\tshowPicker: false,\r\n\t\t\t\ttype: 'rangetime',\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tlineID: '', \r\n\t\t\t\tdepartureData: [], //班次数据\r\n\t\t\t\tstationArray: [],\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(param) {\r\n\t\t\t\n\t\t\tvar that = this;\n\t\t\tthat.lineID = param.lineID;\n\t\t\t\n\t\t\t//班次列表数据参数，从上一个页面传过来的时间，上下车点\n\t\t\tthat.date = param.date;\n\t\t\t\n\t\t\t//初始化时间轴\n\t\t\tthat.loadDate(param.date);\n\t\t\t//加载班次列表数据\n\t\t\tthat.getTicketInfo(this.date);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t//-------------------------------加载班次列表数据-------------------------------\r\n\t\t\tgetTicketInfo: function(date) {\n\t\t\t\tvar that = this;\r\n\t\t\t\tuni.showLoading();\n\t\t\t\tconsole.log(that.lineID)\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: $KyInterface.KyInterface.Cs_GetScheduleList.Url,\r\n\t\t\t\t\tmethod: $KyInterface.KyInterface.Cs_GetScheduleList.method,\r\n\t\t\t\t\theader: $KyInterface.KyInterface.Cs_GetScheduleList.header,\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\texecuteDate: that.date,\r\n\t\t\t\t\t\tLineID: that.lineID,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//非空判断\r\n\t\t\t\t\t\tif (res.data.Successed == true) {\r\n\t\t\t\t\t\t\tthat.departureData = res.data.ScheduleForSell;\r\n\t\t\t\t\t\t} else if (res.data.Successed == false){\r\n\t\t\t\t\t\t\tthat.departureData = res.data.ScheduleForSell;\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '查无班次',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log(res);\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tviewClick: function(e, item) {\r\n\t\t\t\tthis.selectIndex = e;\r\n\t\t\t\tthis.date = item.longDate;\r\n\t\t\t\tthis.getDeparture();\r\n\t\t\t},\r\n\t\t\t//-------------------------------时间转换-------------------------------\r\n\t\t\tturnDate(date) {\r\n\t\t\t\tvar setTime = date.replace('T', ' ');\r\n\t\t\t\treturn setTime;\r\n\t\t\t},\n\t\t\t\r\n\t\t\t//-------------------------------显示日期-------------------------------\r\n\t\t\tonShowDatePicker(type) { //显示\r\n\t\t\t\tthis.type = type;\r\n\t\t\t\tthis.showPicker = true;\r\n\t\t\t\tthis.value = this[type];\r\n\t\t\t},\n\t\t\t\r\n\t\t\t//-------------------------------选择日期-------------------------------\r\n\t\t\tonSelected(e) {\r\n\t\t\t\tthis.showPicker = false;\r\n\t\t\t\tif (e) {\r\n\t\t\t\t\tthis[this.type] = e.value;\r\n\t\t\t\t\t// this[this.type] = e.value.split('/')[1] + \"月\" + e.value.split('/')[2] + \"日\";\r\n\t\t\t\t\t// this.datestring = this[this.type];\r\n\t\t\t\t\t// this.queryWeek(e.date.toString().substring(0,3));\r\n\t\t\t\t\t// console.log(this[this.type]);\r\n\t\t\t\t\t// console.log(e.date.toString().substring(0, 3));\r\n\t\t\t\t\t//console.log(this.Week);\r\n\t\t\t\t\t//选择的值\r\n\t\t\t\t\t// console.log('value => ' + e.value);\r\n\t\t\t\t\t//原始的Date对象\r\n\t\t\t\t\t// console.log('date => ' + e.date);\r\n\t\t\t\t\tthis.date = e.value;\r\n\t\t\t\t\t// console.log(e.value)\r\n\t\t\t\t\t//从日历选择时间后刷新列表数据\r\n\t\t\t\t\tthis.getTicketInfo(e.value);\r\n\t\t\t\t\tvar IsExist = false;\r\n\t\t\t\t\tfor (var i = 0; i < this.dateArray.length; i++) {\r\n\t\t\t\t\t\tif ((new Date(this.dateArray[i].longDate)).getTime() == (new Date(this.date)).getTime()) {\r\n\t\t\t\t\t\t\tIsExist = true;\r\n\t\t\t\t\t\t\tthis.selectIndex = i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//判断时间轴上是否存在改日期，不存在则重新绘制\r\n\t\t\t\t\tif (!IsExist) {\r\n\t\t\t\t\t\tthis.dateArray = [];\r\n\t\t\t\t\t\tvar dateToday = new Date(); //获取今天日期\r\n\t\t\t\t\t\tvar date = new Date(this.date); //选中的日期\r\n\t\t\t\t\t\tthis.selectIndex = 0;\r\n\t\t\t\t\t\tfor (var i = 0; i < 8; i++) {\r\n\t\t\t\t\t\t\tvar mydate = new Date(date.getTime() + 24 * i * 60 * 60 * 1000); //日期一天加一次\r\n\t\t\t\t\t\t\tvar nowdate = this.getTime(3, mydate); //获取该日期的缩写  月/日\r\n\t\t\t\t\t\t\tvar week = this.getTime(2, mydate); //获取该日期为周几\r\n\t\t\t\t\t\t\tvar longdate = this.getTime(0, mydate); //获取 年/月/日\r\n\t\t\t\t\t\t\tif (this.getTime(0, mydate) == this.getTime(0, dateToday)) {\r\n\t\t\t\t\t\t\t\tweek = '今天';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.dateArray.push({\r\n\t\t\t\t\t\t\t\tweek: week,\r\n\t\t\t\t\t\t\t\tdate: nowdate,\r\n\t\t\t\t\t\t\t\tlongDate: longdate,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//-------------------------------点击班次进行缓存，并打开页面  开始-------------------------------\r\n\t\t\tticketDetail(item) {\n\t\t\t\tconsole.log(item)\r\n\t\t\t\tvar that = this;\n\t\t\t\tuni.setStorage({\n\t\t\t\t\tkey: 'specialTicketDate',\n\t\t\t\t\tdata: item,\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: './specialBusTakeOrder'\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tfail() {\n\t\t\t\t\t\tconsole.log('123');\n\t\t\t\t\t}\n\t\t\t\t});\r\n\t\t\t},\n\t\t\t\n\t\t\t//-------------------------------点击班次进行缓存，并打开页面  结束-------------------------------\r\n\t\t\t//日期时间转换函数   type 0 年月日 ，1 时分秒 ， 2 星期 ，3 月/日  4几月几日\r\n\t\t\tgetTime: function(type, date1) {\r\n\t\t\t\tlet date = new Date(date1.getTime()),\r\n\t\t\t\t\tcurrentDate,\r\n\t\t\t\t\tcurrentTime,\r\n\t\t\t\t\tsortDate,\r\n\t\t\t\t\tmonthAndDay,\r\n\t\t\t\t\tseperator = \"/\", // 如果想要其他格式 只需 修改这里 \r\n\t\t\t\t\tyear = date.getFullYear(),\r\n\t\t\t\t\tmonth = date.getMonth() + 1,\r\n\t\t\t\t\tweex = date.getDay(),\r\n\t\t\t\t\tday = date.getDate(),\r\n\t\t\t\t\thour = date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n\t\t\t\t\tminute = date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n\t\t\t\t\tsecond = date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\r\n\t\t\t\t// month >= 1 && month <= 9 ? (month = \"0\" + month) : \"\";\r\n\t\t\t\t// day >= 0 && day <= 9 ? (day = \"0\" + day) : \"\";\r\n\t\t\t\t//当前 日期\r\n\t\t\t\tcurrentDate = year + seperator + month + seperator + day;\r\n\t\t\t\t//当前 时间\r\n\t\t\t\tcurrentTime = hour + \":\" + minute + \":\" + second;\r\n\t\t\t\tsortDate = month + \"/\" + day;\r\n\t\t\t\tmonthAndDay = month + \"月\" + day + \"日\";\r\n\t\t\t\t// 输出格式 为 2018-8-27 14:45:33\r\n\t\t\t\t// console.log(currentDate +\" \"+ currentTime);\r\n\t\t\t\tif (type == 0) {\r\n\t\t\t\t\treturn currentDate\r\n\t\t\t\t} else if (type == 1) {\r\n\t\t\t\t\treturn currentTime;\r\n\t\t\t\t} else if (type == 2) {\r\n\t\t\t\t\tif (weex == 1) {\r\n\t\t\t\t\t\treturn '周一'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 2) {\r\n\t\t\t\t\t\treturn '周二'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 3) {\r\n\t\t\t\t\t\treturn '周三'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 4) {\r\n\t\t\t\t\t\treturn '周四'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 5) {\r\n\t\t\t\t\t\treturn '周五'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 6) {\r\n\t\t\t\t\t\treturn '周六'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (weex == 0) {\r\n\t\t\t\t\t\treturn '周日'\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (type == 3) {\r\n\t\t\t\t\treturn sortDate;\r\n\t\t\t\t} else if (type == 4) {\r\n\t\t\t\t\treturn monthAndDay;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn currentDate + \" \" + currentTime;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//-------------------------------初始化时间轴-------------------------------\r\n\t\t\tloadDate(param) {\n\t\t\t\tvar that = this;\r\n\t\t\t\tvar date = '';\r\n\t\t\t\t\n\t\t\t\t//从二维码进到这个页面，使用系统时间\r\n\t\t\t\tif (param.date == 'date') {\n\t\t\t\t\tdate = new Date();\n\t\t\t\t\tthat.getTicketInfo(date);\n\t\t\t\t\tconsole.log('二维码');\r\n\t\t\t\t} else { \n\t\t\t\t\t//从首页进来，对时间格式进行操作\n\t\t\t\t\tif(param == 'date'){\n\t\t\t\t\t\tdate = new Date();\n\t\t\t\t\t\tthat.getTicketInfo(date);\n\t\t\t\t\t}else {\n\t\t\t\t\t\tvar subStr = new RegExp('-', 'ig');\n\t\t\t\t\t\tvar result = this.date.replace(subStr, \"/\");\n\t\t\t\t\t\tdate = new Date(result);\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// var mydate = this.date;\r\n\t\t\t\tthis.selectIndex = 0;\r\n\t\t\t\tfor (var i = 0; i < 7; i++) {\r\n\t\t\t\t\tvar mydate = new Date(date.getTime() + 24 * i * 60 * 60 * 1000);\r\n\r\n\t\t\t\t\tvar nowdate = this.getTime(3, mydate);\r\n\t\t\t\t\tvar week = this.getTime(2, mydate);\r\n\t\t\t\t\tvar longdate = this.getTime(0, mydate);\r\n\t\t\t\t\tif (mydate.getTime() == date.getTime()) {\r\n\t\t\t\t\t\tweek = '今天';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.dateArray.push({\r\n\t\t\t\t\t\tweek: week,\r\n\t\t\t\t\t\tdate: nowdate,\r\n\t\t\t\t\t\tlongDate: longdate,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t//点击顶部时间，请求该时间的班次列表\r\n\t\t\tgetDeparture() {\r\n\t\t\t\tthis.getTicketInfo(this.date);\r\n\t\t\t},\r\n\t\t\t// #ifdef  H5\r\n\t\t\t//获取openid\r\n\t\t\tgetCode() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet Appid = \"wx14af28006f937f6e\"; //appid\r\n\t\t\t\tlet code = this.getUrlParam('code'); //是否存在code\n\t\t\t\t\r\n\t\t\t\tlet local = $KyInterface.KyInterface.Ky_ScheduleUrl.Url;\r\n\t\t\t\tif (code == null || code === \"\") {\r\n\t\t\t\t\t//不存在就打开上面的地址进行授权\r\n\t\t\t\t\twindow.location.href =\r\n\t\t\t\t\t\t\"https://open.weixin.qq.com/connect/oauth2/authorize?appid=\" +\r\n\t\t\t\t\t\tAppid +\r\n\t\t\t\t\t\t\"&redirect_uri=\" +\r\n\t\t\t\t\t\tencodeURIComponent(local) +\r\n\t\t\t\t\t\t\"&response_type=code&scope=snsapi_userinfo&state=STATE#wechat_redirect\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// 存在则通过code传向后台调用接口返回微信的个人信息\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\turl: 'https://27.148.155.9:9056/CTKY/getWxUserinfo?code=' + code + '&Appid=' + Appid +\r\n\t\t\t\t\t\t\t'&Appsecret=9cda28b050341aca1f674d2043b01358',\r\n\t\t\t\t\t\theader: $KyInterface.KyInterface.Ky_ScheduleUrl.header,\r\n\t\t\t\t\t\tmethod: $KyInterface.KyInterface.Ky_ScheduleUrl.method,\r\n\t\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\tconsole.log(res, \"res\")\r\n\t\t\t\t\t\t\tuni.setStorageSync('scenicSpotOpenId', res.data.openid)\r\n\t\t\t\t\t\t\tuni.setStorageSync('wxuserInfo', res.data)\r\n\t\t\t\t\t\t\tlet openid = res.data.openid;\r\n\t\t\t\t\t\t\tconsole.log(openid, \"openid\")\r\n\t\t\t\t\t\t\tif (openid != \"\" && openid != null && openid != undefined) {\r\n\t\t\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\t\t\t//url:'http://zntc.145u.net/api/person/changeInfo',\r\n\t\t\t\t\t\t\t\t\turl: that.$GrzxInter.Interface.GetUserInfoByOpenId_wx.value,\r\n\t\t\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\t\t\topenId_wx: openid,\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tmethod: that.$GrzxInter.Interface.GetUserInfoByOpenId_wx.method,\r\n\t\t\t\t\t\t\t\t\tsuccess(res1) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(res1, 'res1')\r\n\t\t\t\t\t\t\t\t\t\t//判断是否有绑定手机号\r\n\t\t\t\t\t\t\t\t\t\tif (res1.data.msg == \"获取用户信息失败,不存在该openID用户信息\") {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '您未绑定手机号，请绑定手机号！',\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\turl: '/pages/GRZX/wxLogin'\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(openid, 'openid1')\r\n\t\t\t\t\t\t\t\t\t\tif (openid == res1.data.data.openId_wx && openid != \"\") {\r\n\t\t\t\t\t\t\t\t\t\t\tuni.setStorageSync('userInfo', res1.data.data)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail(err) {\r\n\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"err是\" + err.errMsg,\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//判断code信息是否存在\r\n\t\t\tgetUrlParam(name) {\r\n\t\t\t\tvar reg = new RegExp('(^|&)' + name + '=([^&]*)(&|$)')\r\n\t\t\t\tlet url = window.location.href.split('#')[0]\r\n\t\t\t\tlet search = url.split('?')[1]\r\n\t\t\t\tif (search) {\r\n\t\t\t\t\tvar r = search.substr(0).match(reg)\r\n\t\t\t\t\tif (r !== null) return unescape(r[2])\r\n\t\t\t\t\treturn null\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t//#endif  \r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\tpage,\r\n\t.myView {\r\n\t\tflex-direction: column;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: #F1F1F1;\r\n\t}\r\n\r\n\t.headerClass {\r\n\t\twidth: 100%;\r\n\t\tbackground: #FFFFFF;\r\n\t\theight: 109upx;\r\n\t\t//padding-left: 10upx;\r\n\t\tmargin-bottom: 10upx;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.scrollClass {\r\n\t\theight: 109upx;\r\n\t\twidth: 86%;\r\n\t\twhite-space: nowrap; //外层写这俩\r\n\t\tflex-wrap: nowrap;\r\n\t}\r\n\r\n\t.blockClass {\r\n\t\tmargin: 12upx 14upx;\r\n\t\t//background: #FFFFFF;\r\n\t\twidth: 87upx;\r\n\t\theight: 84upx;\r\n\t\tborder-radius: 8upx;\r\n\t\tdisplay: inline-block; //里层写这个\r\n\t}\r\n\r\n\t.markType {\r\n\t\t// width: 65upx;\n\t\tpadding: 0 10rpx;\r\n\t\theight: 37upx;\r\n\t\tline-height: 37rpx;\r\n\t\tborder-radius: 14upx;\r\n\t\ttext-align: center;\r\n\t\talign-items: center;\r\n\t\tfont-size: 24upx;\r\n\t\tfont-family: SourceHanSansSC-Light;\r\n\t}\r\n\r\n\t.textCLass {\r\n\t\tmargin: 9upx 17upx;\r\n\t}\r\n\r\n\t.weekClass {\r\n\t\t//display: block;\r\n\t\tfont-size: 26upx;\r\n\t\tfont-family: MicrosoftYaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #333333;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.dateClass {\r\n\t\t//display: block;\r\n\t\tfont-size: 24upx;\r\n\t\tfont-family: MicrosoftYaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #333333;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.viewPress {\r\n\t\tbackground: #DD524D;\r\n\r\n\t\t.weekClass {\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\r\n\t\t.dateClass {\r\n\t\t\tcolor: #FFFFFF;\r\n\t\t}\r\n\t}\r\n\r\n\t.calendarImage {\r\n\t\twidth: 35upx;\r\n\t\theight: 37upx;\r\n\t}\r\n\r\n\t.ctky_View {\r\n\t\twidth: 94%;\r\n\t\tbackground: #FFFFFF;\r\n\t\tmargin: 16upx 3%;\r\n\t\tborder-radius: 20upx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.ctky_View_Left {\r\n\t\ttext-align: left;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t.ctky_View_Right {\r\n\t\tdisplay: flex;\r\n\t\ttext-align: right;\r\n\t\talign-items: center;\r\n\t\tpadding: 0;\r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusLineList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./specialBusLineList.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1594278266094\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}